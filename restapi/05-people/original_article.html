<!DOCTYPE html><html xmlns:cc="http://creativecommons.org/ns#"><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# medium-com: http://ogp.me/ns/fb/medium-com#"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Developing a simple CRUD API with Go, Gin and Gorm – Christopher Grant – Medium</title><link rel="canonical" href="https://medium.com/@cgrant/developing-a-simple-crud-api-with-go-gin-and-gorm-df87d98e6ed1"><meta name="title" content="Developing a simple CRUD API with Go, Gin and Gorm – Christopher Grant – Medium"><meta name="referrer" content="unsafe-url"><meta name="description" content="Golang is an exciting language but newcomers can be overwhelmed by the new semantics and variety of frameworks available. Getting started with the basics can feel like a challenge. In this example I…"><meta name="theme-color" content="#000000"><meta property="og:title" content="Developing a simple CRUD API with Go, Gin and Gorm – Christopher Grant – Medium"><meta property="og:url" content="https://medium.com/@cgrant/developing-a-simple-crud-api-with-go-gin-and-gorm-df87d98e6ed1"><meta property="fb:app_id" content="542599432471018"><meta property="og:description" content="Introduction"><meta name="twitter:description" content="Introduction"><link rel="publisher" href="https://plus.google.com/103654360130207659246"><link rel="author" href="https://medium.com/@cgrant"><meta property="author" content="Christopher Grant"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta property="article:publisher" content="https://www.facebook.com/medium"><meta property="article:author" content="https://medium.com/@cgrant"><meta name="robots" content="index, follow"><meta property="article:published_time" content="2016-12-03T01:56:35.338Z"><meta name="twitter:creator" content="@cgrant"><meta name="twitter:site" content="@Medium"><meta property="og:site_name" content="Medium"><meta name="twitter:label1" value="Reading time"><meta name="twitter:data1" value="11 min read"><meta name="twitter:app:name:iphone" content="Medium"><meta name="twitter:app:id:iphone" content="828256236"><meta name="twitter:app:url:iphone" content="medium://p/df87d98e6ed1"><meta property="al:ios:app_name" content="Medium"><meta property="al:ios:app_store_id" content="828256236"><meta property="al:android:package" content="com.medium.reader"><meta property="al:android:app_name" content="Medium"><meta property="al:ios:url" content="medium://p/df87d98e6ed1"><meta property="al:android:url" content="medium://p/df87d98e6ed1"><meta property="al:web:url" content="https://medium.com/@cgrant/developing-a-simple-crud-api-with-go-gin-and-gorm-df87d98e6ed1"><link rel="search" type="application/opensearchdescription+xml" title="Medium" href="/osd.xml" /><link rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/df87d98e6ed1" /><script type="application/ld+json">{"@context":"http://schema.org","@type":"NewsArticle","image":{"@type":"ImageObject","width":545,"height":106,"url":"https://cdn-images-1.medium.com/max/1090/1*OMF3fSqH8t4xBJ9-6oZDZw.png"},"datePublished":"2016-12-03T01:56:35.338Z","dateModified":"2018-02-23T08:29:40.624Z","headline":"Developing a simple CRUD API with Go, Gin and Gorm","name":"Developing a simple CRUD API with Go, Gin and Gorm","keywords":["Golang","Programming","API"],"author":{"@type":"Person","name":"Christopher Grant","url":"https://medium.com/@cgrant"},"creator":["Christopher Grant"],"publisher":{"@type":"Organization","name":"Medium","url":"https://medium.com/","logo":{"@type":"ImageObject","width":308,"height":60,"url":"https://cdn-images-1.medium.com/max/616/1*OMF3fSqH8t4xBJ9-6oZDZw.png"}},"mainEntityOfPage":"https://medium.com/@cgrant/developing-a-simple-crud-api-with-go-gin-and-gorm-df87d98e6ed1"}</script><link rel="stylesheet" type="text/css" id="glyph-8" href="https://glyph.medium.com/css/e/sr/latin/e/ssr/latin/e/ssb/latin/m2.css" /><link rel="stylesheet" href="https://cdn-static-1.medium.com/_/fp/css/main-branding-base.dHv3MHpy06pRs4706uR7tg.css"><script>if (window.top !== window.self) window.top.location = window.self.location.href;var OB_startTime = new Date().getTime(); var OB_loadErrors = []; function _onerror(e) { OB_loadErrors.push(e) }; if (document.addEventListener) document.addEventListener("error", _onerror, true); else if (document.attachEvent) document.attachEvent("onerror", _onerror); function _asyncScript(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("script"); s.type = "text/javascript"; s.async = true; s.src = u; f.parentNode.insertBefore(s, f);}function _asyncStyles(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("link"); s.rel = "stylesheet"; s.href = u; f.parentNode.insertBefore(s, f); return s}(new Image()).src = "/_/stat?event=pixel.load&origin=" + encodeURIComponent(location.origin);</script><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date; ga("create", "UA-24232453-2", "auto", {"allowLinker": true, "legacyCookieDomain": window.location.hostname}); ga("send", "pageview");</script><script async src="https://www.google-analytics.com/analytics.js"></script><!--[if lt IE 9]><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js"></script><![endif]--><link rel="icon" href="https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium.3Y6xpZ-0FSdWDnPM3hSBIA.ico" class="js-favicon"><link rel="apple-touch-icon" sizes="152x152" href="https://cdn-images-1.medium.com/fit/c/304/304/1*8I-HPL0bfoIzGied-dzOvA.png"><link rel="apple-touch-icon" sizes="120x120" href="https://cdn-images-1.medium.com/fit/c/240/240/1*8I-HPL0bfoIzGied-dzOvA.png"><link rel="apple-touch-icon" sizes="76x76" href="https://cdn-images-1.medium.com/fit/c/152/152/1*8I-HPL0bfoIzGied-dzOvA.png"><link rel="apple-touch-icon" sizes="60x60" href="https://cdn-images-1.medium.com/fit/c/120/120/1*8I-HPL0bfoIzGied-dzOvA.png"><link rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/monogram-mask.KPLCSFEZviQN0jQ7veN2RQ.svg" color="#171717"></head><body itemscope class=" postShowScreen browser-chrome os-mac is-withMagicUnderlines v-glyph v-glyph--m2 v-enableBrandingButtons is-noJs"><script>document.body.className = document.body.className.replace(/(^|\s)is-noJs(\s|$)/, "$1is-js$2")</script><div class="site-main" id="container"><div class="butterBar butterBar--error"></div><div class="surface"><div id="prerendered" class="screenContent"><canvas class="canvas-renderer"></canvas><div class="container u-maxWidth740 u-xs-margin0 notesPositionContainer js-notesPositionContainer"></div><div class="metabar u-clearfix js-metabar u-fixed u-backgroundTransparentWhiteDarkest u-xs-sizeFullViewportWidth"><div class="js-metabarMiddle metabar-inner u-marginAuto u-maxWidth1000 u-flexCenter u-justifyContentSpaceBetween u-height65 u-xs-height56 u-paddingLeft20 u-paddingRight20"><div class="metabar-block u-flex1 u-flexCenter"><div class="js-metabarLogoLeft u-xs-show"><a href="https://medium.com/" data-log-event="home" class="siteNav-logo"><span class="svgIcon svgIcon--logoWordmark svgIcon--138x27px is-flushLeft u-xs-hide u-textColorDarker"><svg class="svgIcon-use" width="138" height="27" viewBox="0 0 138 27" ><path d="M130 27V16.96c0-3.26-.154-5.472-2.437-5.472-1.16 0-2.138.57-2.863 1.512.217.906.3 1.968.3 3.127 0 2.247.036 5.11 0 7.973 0 .472-.046.58.244.87L127 27h-8V16.96c0-3.297-.461-5.472-2.708-5.472-1.16 0-1.64.653-2.292 1.595V24.1c0 .472-.026.58.3.87L116 27h-8V11.56c0-.47-.07-.579-.36-.905L106 9h8v3.612c.906-2.537 2.437-4.112 5.372-4.112 2.682 0 4.494 1.466 5.255 4.257.834-2.392 3.008-4.257 6.053-4.257 3.588 0 5.32 2.626 5.32 7.627 0 2.392.036 5.11 0 7.973 0 .472.004.652.25.87L138 27h-8zm-27-3.045c0 .472-.149.617.178.906L105 27h-8v-4c-.906 2.465-2.956 4-5.637 4C87.775 27 86 24.39 86 19.461c0-2.391-.036-5 0-7.936 0-.471-.11-.58-.4-.87L84 9h8v9.628c0 3.225.269 5.4 2.298 5.4 1.16 0 2.086-.725 2.702-1.63V11.56c0-.471-.129-.58-.419-.906L95 9h8v14.955zM78.002.25A3.248 3.248 0 0 1 81.25 3.5 3.25 3.25 0 1 1 78.002.25zM75 27V11.56c0-.47.168-.579-.122-.905L73 9h8v15.1c0 .472-.01.678.24.9L83 27h-8zM64 11.706c-.507-.652-1.418-1.123-2.396-1.123-1.957 0-3.842 1.775-3.842 7.03 0 4.93 1.631 6.669 3.66 6.669.907 0 1.853-.436 2.578-1.378V11.706zm6 12.286c0 .47-.026.58.3.87L72 27h-8v-3.697C62.913 25.804 60.951 27 58.632 27 54.5 27 51.5 23.738 51.5 17.795c0-5.582 3.254-9.314 7.784-9.314 2.356 0 3.919 1.123 4.716 2.899V3.878c0-.471-.077-.617-.403-.906L62 1.305 70 .29v23.702zM43.9 16c.037-.471.037-.67.037-.815 0-4.747-.937-5.435-2.437-5.435-1.5 0-2.854.995-2.927 6.25h5.328zm-5.327 1c0 4.711 2.392 6.63 5.183 6.63 2.174 0 4.313-.943 5.509-3.335h.072c-.942 4.566-3.77 6.705-8.01 6.705-4.566 0-8.879-2.755-8.879-9.133 0-6.705 4.277-9.386 9.097-9.386 3.842 0 7.937 1.811 7.937 7.646 0 .109 0 .438-.036.873H38.573zM31.5 27h-12l2.39-2.646c.084-.084.11-.399.11-.87V7l-7.866 20L5.581 8.372C5.364 7.9 5.181 7.285 5 6.777V20.62c0 .58-.035.653.364 1.196L9 27H0l3.64-5.183c.399-.543.36-.616.36-1.196V6.27c0-.617.095-.69-.195-1.051L1 1h8.495l7.355 16.3L23.24 1h8.26l-2.2 2.75c-.326.326-.3.599-.3 1.106v18.629c0 .47.005.75.138.87L31.5 27z"/></svg></span><span class="svgIcon svgIcon--logoWordmark svgIcon--122x45px is-flushLeft u-xs-show u-textColorDarker"><svg class="svgIcon-use" width="122" height="45" viewBox="0 0 122 45" ><path d="M61.6 31.806c0 .412 0 .505.28.758l1.574 1.537v.065h-6.979v-2.95a4.852 4.852 0 0 1-4.627 3.203c-3.588 0-6.192-2.81-6.192-7.981 0-4.843 2.81-8.075 6.754-8.075a4.122 4.122 0 0 1 4.056 2.51v-6.51a.806.806 0 0 0-.319-.787l-1.499-1.443v-.065l6.951-.815v20.553zm-5.125-.937v-9.714a2.614 2.614 0 0 0-2.08-.975c-1.695 0-3.334 1.537-3.334 6.099 0 4.271 1.414 5.78 3.175 5.78a2.81 2.81 0 0 0 2.24-1.19zm9.752 3.297V21.051a.88.88 0 0 0-.281-.786L64.4 18.672v-.065h6.98v13.302c0 .412 0 .505.28.758l1.536 1.443v.066l-6.97-.01zm-.253-20.356a2.81 2.81 0 1 1 5.62 0 2.81 2.81 0 0 1-5.62 0zm24.234 17.967c0 .413 0 .534.281.787l1.574 1.537v.065h-7.017v-3.363a5.077 5.077 0 0 1-4.805 3.616c-3.11 0-4.778-2.267-4.778-6.557 0-2.07 0-4.337.066-6.885a.796.796 0 0 0-.281-.76l-1.546-1.545v-.065h6.923v8.552c0 2.81.412 4.684 2.173 4.684a2.81 2.81 0 0 0 2.267-1.415v-9.367a.88.88 0 0 0-.28-.787l-1.556-1.602v-.065h6.979v13.17zm23.756 2.39c0-.507.094-6.952.094-8.432 0-2.81-.44-4.75-2.417-4.75a3.138 3.138 0 0 0-2.482 1.35c.198.876.292 1.772.28 2.67 0 1.948-.065 4.43-.093 6.913a.796.796 0 0 0 .281.759l1.574 1.442v.066h-7.045c0-.468.094-6.95.094-8.431 0-2.857-.44-4.75-2.389-4.75a2.81 2.81 0 0 0-2.323 1.387v9.555c0 .412 0 .506.281.759l1.537 1.442v.066h-6.97V21.098a.88.88 0 0 0-.281-.787l-1.546-1.639v-.065h6.98v3.334a5.002 5.002 0 0 1 5.002-3.587c2.323 0 3.896 1.292 4.562 3.747a5.433 5.433 0 0 1 5.245-3.747c3.11 0 4.872 2.295 4.872 6.632 0 2.07-.066 4.43-.094 6.913a.75.75 0 0 0 .318.759l1.537 1.443v.065h-7.017zm-87.671-2.043l2.07 1.977v.065H17.862v-.065l2.107-1.977a.796.796 0 0 0 .281-.759V18.728c0-.534 0-1.255.094-1.873l-7.082 17.564h-.084L5.843 18.26c-.16-.402-.206-.43-.31-.702v10.595c-.087.71.034 1.429.348 2.07l2.95 3.879v.065H1v-.065l2.95-3.888a3.69 3.69 0 0 0 .347-2.06v-11.71a2.267 2.267 0 0 0-.487-1.602l-2.089-2.708v-.065h7.494l6.277 13.686 5.527-13.686h7.335v.065l-2.061 2.296a.806.806 0 0 0-.319.786v16.15a.75.75 0 0 0 .319.759zm8.215-6.332v.065c0 4.01 2.07 5.62 4.497 5.62a5.105 5.105 0 0 0 4.777-2.894h.066c-.844 3.963-3.298 5.836-6.97 5.836-3.962 0-7.7-2.389-7.7-7.925 0-5.817 3.747-8.14 7.887-8.14 3.335 0 6.886 1.573 6.886 6.632v.806h-9.443zm0-.806h4.618v-.815c0-4.122-.852-5.218-2.136-5.218-1.555 0-2.5 1.64-2.5 6.033h.018z"/></svg></span><span class="u-textScreenReader">Homepage</span></a></div><a class="link link--darken u-accentColor--textDarken u-baseColor--link u-xs-hide js-upgradeMembershipAction"   href="https://medium.com/membership?source=upgrade_membership---nav_full">About membership</a></div><div class="metabar-block u-flex0"><div class="buttonSet buttonSet--wide"><a class="button button--primary button--chromeless u-accentColor--buttonNormal is-inSiteNavBar u-xs-hide js-signInButton"   href="https://medium.com/m/signin?redirect=https%3A%2F%2Fmedium.com%2F%40cgrant%2Fdeveloping-a-simple-crud-api-with-go-gin-and-gorm-df87d98e6ed1&amp;source=--------------------------nav_reg&amp;operation=login" data-action="sign-in-prompt" data-redirect="https://medium.com/@cgrant/developing-a-simple-crud-api-with-go-gin-and-gorm-df87d98e6ed1" data-action-source="--------------------------nav_reg">Sign in</a><a class="button button--primary button--withChrome u-accentColor--buttonNormal is-inSiteNavBar js-signUpButton"   href="https://medium.com/m/signin?redirect=https%3A%2F%2Fmedium.com%2F%40cgrant%2Fdeveloping-a-simple-crud-api-with-go-gin-and-gorm-df87d98e6ed1&amp;source=--------------------------nav_reg&amp;operation=register" data-action="sign-up-prompt" data-redirect="https://medium.com/@cgrant/developing-a-simple-crud-api-with-go-gin-and-gorm-df87d98e6ed1" data-action-source="--------------------------nav_reg">Get started</a></div></div><div class="u-absolute u-sizeFullWidth u-top0 u-right0 u-bottom0 u-flexCenter u-justifyContentCenter u-textAlignCenter u-xs-hide js-metabarLogoCentered"><a href="https://medium.com/" data-log-event="home" class="siteNav-logo"><span class="svgIcon svgIcon--logoWordmark svgIcon--138x27px is-flushLeft u-xs-hide u-textColorDarker"><svg class="svgIcon-use" width="138" height="27" viewBox="0 0 138 27" ><path d="M130 27V16.96c0-3.26-.154-5.472-2.437-5.472-1.16 0-2.138.57-2.863 1.512.217.906.3 1.968.3 3.127 0 2.247.036 5.11 0 7.973 0 .472-.046.58.244.87L127 27h-8V16.96c0-3.297-.461-5.472-2.708-5.472-1.16 0-1.64.653-2.292 1.595V24.1c0 .472-.026.58.3.87L116 27h-8V11.56c0-.47-.07-.579-.36-.905L106 9h8v3.612c.906-2.537 2.437-4.112 5.372-4.112 2.682 0 4.494 1.466 5.255 4.257.834-2.392 3.008-4.257 6.053-4.257 3.588 0 5.32 2.626 5.32 7.627 0 2.392.036 5.11 0 7.973 0 .472.004.652.25.87L138 27h-8zm-27-3.045c0 .472-.149.617.178.906L105 27h-8v-4c-.906 2.465-2.956 4-5.637 4C87.775 27 86 24.39 86 19.461c0-2.391-.036-5 0-7.936 0-.471-.11-.58-.4-.87L84 9h8v9.628c0 3.225.269 5.4 2.298 5.4 1.16 0 2.086-.725 2.702-1.63V11.56c0-.471-.129-.58-.419-.906L95 9h8v14.955zM78.002.25A3.248 3.248 0 0 1 81.25 3.5 3.25 3.25 0 1 1 78.002.25zM75 27V11.56c0-.47.168-.579-.122-.905L73 9h8v15.1c0 .472-.01.678.24.9L83 27h-8zM64 11.706c-.507-.652-1.418-1.123-2.396-1.123-1.957 0-3.842 1.775-3.842 7.03 0 4.93 1.631 6.669 3.66 6.669.907 0 1.853-.436 2.578-1.378V11.706zm6 12.286c0 .47-.026.58.3.87L72 27h-8v-3.697C62.913 25.804 60.951 27 58.632 27 54.5 27 51.5 23.738 51.5 17.795c0-5.582 3.254-9.314 7.784-9.314 2.356 0 3.919 1.123 4.716 2.899V3.878c0-.471-.077-.617-.403-.906L62 1.305 70 .29v23.702zM43.9 16c.037-.471.037-.67.037-.815 0-4.747-.937-5.435-2.437-5.435-1.5 0-2.854.995-2.927 6.25h5.328zm-5.327 1c0 4.711 2.392 6.63 5.183 6.63 2.174 0 4.313-.943 5.509-3.335h.072c-.942 4.566-3.77 6.705-8.01 6.705-4.566 0-8.879-2.755-8.879-9.133 0-6.705 4.277-9.386 9.097-9.386 3.842 0 7.937 1.811 7.937 7.646 0 .109 0 .438-.036.873H38.573zM31.5 27h-12l2.39-2.646c.084-.084.11-.399.11-.87V7l-7.866 20L5.581 8.372C5.364 7.9 5.181 7.285 5 6.777V20.62c0 .58-.035.653.364 1.196L9 27H0l3.64-5.183c.399-.543.36-.616.36-1.196V6.27c0-.617.095-.69-.195-1.051L1 1h8.495l7.355 16.3L23.24 1h8.26l-2.2 2.75c-.326.326-.3.599-.3 1.106v18.629c0 .47.005.75.138.87L31.5 27z"/></svg></span><span class="u-textScreenReader">Homepage</span></a></div></div></div><div class="metabar metabar--spacer js-metabarSpacer u-height65 u-xs-height56"></div><main role="main"><article class=" u-minHeight100vhOffset65 u-overflowHidden postArticle postArticle--full u-marginBottom40"  lang="en"><header class="container u-maxWidth740"><div class="uiScale uiScale-ui--regular uiScale-caption--regular postMetaHeader u-paddingBottom10 row"><div class="col u-size12of12 js-postMetaLockup"><div class="uiScale uiScale-ui--regular uiScale-caption--regular postMetaLockup postMetaLockup--authorWithBio u-flexCenter js-postMetaLockup"><div class="u-flex0"><a class="link u-baseColor--link avatar"   href="https://medium.com/@cgrant?source=post_header_lockup" data-action="show-user-card" data-action-source="post_header_lockup" data-action-value="60e881a91384" data-action-type="hover" data-user-id="60e881a91384" dir="auto"><img  src="https://cdn-images-1.medium.com/fit/c/120/120/1*rJJEH89K35lacZgQh-UySw.png" class="avatar-image avatar-image--small" alt="Go to the profile of Christopher Grant"></a></div><div class="u-flex1 u-paddingLeft15 u-overflowHidden"><div class="u-lineHeightTightest"><a class="ds-link ds-link--styleSubtle ui-captionStrong u-inlineBlock link link--darken link--darker"   href="https://medium.com/@cgrant?source=post_header_lockup" data-action="show-user-card" data-action-source="post_header_lockup" data-action-value="60e881a91384" data-action-type="hover" data-user-id="60e881a91384" dir="auto">Christopher Grant</a><span class="followState js-followState" data-user-id="60e881a91384"><button class="button button--smallest u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton u-marginLeft10 u-xs-hide"  data-action="sign-up-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-redirect="https://medium.com/@cgrant/developing-a-simple-crud-api-with-go-gin-and-gorm-df87d98e6ed1" data-action-source="post_header_lockup"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary button--smallest u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton u-marginLeft10 u-xs-hide"  data-action="sign-up-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/60e881a91384" data-action-source="post_header_lockup-60e881a91384-------------------------follow_byline"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></div><div class="ui-caption ui-xs-clamp2 postMetaInline">Sr. Email Reader &amp; Slide Deck Creator</div><div class="ui-caption postMetaInline js-testPostMetaInlineSupplemental"><time datetime="2016-12-03T01:56:35.338Z">Dec 2, 2016</time><span class="middotDivider u-fontSize12"></span><span class="readingTime" title="11 min read"></span></div></div></div></div></div></header><div class="postArticle-content js-postField js-notesSource js-trackedPost"  data-post-id="df87d98e6ed1" data-source="post_page" data-tracking-context="postPage"><section name="57f9" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h1 name="25cb" id="25cb" class="graf graf--h3 graf--leading graf--title">Developing a simple CRUD API with Go, Gin and Gorm</h1><h3 name="ce6b" id="ce6b" class="graf graf--h3 graf-after--h3">Introduction</h3><p name="b4e8" id="b4e8" class="graf graf--p graf-after--h3">Golang is an exciting language but newcomers can be overwhelmed by the new semantics and variety of frameworks available. Getting started with the basics can feel like a challenge.</p><p name="3339" id="3339" class="graf graf--p graf-after--p">In this example I wanted to show the most minimal set of code needed to create a functional api. We’ll develop a simple API that provides Create, Read, Update, and Delete (CRUD) functions for a basic model. Using and Object Relationship Mapping (ORM) tool we’ll be able to quickly update our data model with new fields all under 100 lines of code. So let’s get started.</p><p name="edfa" id="edfa" class="graf graf--p graf-after--p">The final code for this walk through can be found at <a href="https://github.com/cgrant/gin-gorm-api-example" data-href="https://github.com/cgrant/gin-gorm-api-example" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">https://github.com/cgrant/gin-gorm-api-example</a></p><h3 name="8eb7" id="8eb7" class="graf graf--h3 graf-after--p">Getting Started</h3><p name="9cbf" id="9cbf" class="graf graf--p graf-after--h3">This example assumes you already have Go installed and running. If you still need to get setup, head over to <a href="http://cgrant.io/tutorials/go/getting-started-with-go/" data-href="http://cgrant.io/tutorials/go/getting-started-with-go/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">http://cgrant.io/tutorials/go/getting-started-with-go/</a> for a quick primer.</p><h3 name="3249" id="3249" class="graf graf--h3 graf-after--p">Web Framework with Gin</h3><p name="ee16" id="ee16" class="graf graf--p graf-after--h3">Since we’ll be serving our API over HTTP we’ll need a web framework to handle routing and serving the requests. There are many frameworks available with different features and performance gains. For this example we’ll be using the Gin Web Framework <a href="https://github.com/gin-gonic/gin" data-href="https://github.com/gin-gonic/gin" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">https://github.com/gin-gonic/gin</a> . Gin is a nice framework for API development due to it’s speed and simplicity.</p><p name="ae5b" id="ae5b" class="graf graf--p graf-after--p">To start, let’s create a new folder for our service at $GOPATH/src/simple-api and add a main.go file as follows</p><pre name="31fb" id="31fb" class="graf graf--pre graf-after--p">package main</pre><pre name="af14" id="af14" class="graf graf--pre graf-after--pre">import “fmt”</pre><pre name="0b7b" id="0b7b" class="graf graf--pre graf-after--pre">func main() {<br> fmt.Println(“Hello World”)<br>}</pre><p name="9a0a" id="9a0a" class="graf graf--p graf-after--pre">Before we go too far let’s test it out to ensure everything is running correctly.</p><pre name="da7a" id="da7a" class="graf graf--pre graf-after--p">$ go run main.go<br>Hello World</pre><p name="38d8" id="38d8" class="graf graf--p graf-after--pre">Perfect we’re all set. Now let’s use the Gin Framework to make that into a web application.</p><pre name="8f5d" id="8f5d" class="graf graf--pre graf-after--p">package main</pre><pre name="f041" id="f041" class="graf graf--pre graf-after--pre">import “github.com/gin-gonic/gin”</pre><pre name="bd1d" id="bd1d" class="graf graf--pre graf-after--pre">func main() {<br> r := gin.Default()<br> r.GET(“/”, func(c *gin.Context) {<br> c.String(200, “Hello World”)<br> })<br> r.Run() <br>}</pre><p name="bd7a" id="bd7a" class="graf graf--p graf-after--pre">Save and run it</p><pre name="8841" id="8841" class="graf graf--pre graf-after--p">$ go run main.go<br>[GIN-debug] [WARNING] Running in “debug” mode. Switch to “release” mode in production.<br> — using env: export GIN_MODE=release<br> — using code: gin.SetMode(gin.ReleaseMode)</pre><pre name="9444" id="9444" class="graf graf--pre graf-after--pre">[GIN-debug] GET / → main.main.func1 (3 handlers)<br>[GIN-debug] Environment variable PORT is undefined. Using port :8080 by default<br>[GIN-debug] Listening and serving HTTP on :8080<br>[GIN] 2016/12/02–14:57:52 | 200 | 33.798µs | ::1 | GET /</pre><p name="4003" id="4003" class="graf graf--p graf-after--pre">Then browse over to <a href="http://localhost:8080" data-href="http://localhost:8080" class="markup--anchor markup--p-anchor" rel="nofollow" target="_blank">http://localhost:8080</a></p><pre name="6fc9" id="6fc9" class="graf graf--pre graf-after--p"><br>Hello World<br><br></pre><p name="9adb" id="9adb" class="graf graf--p graf-after--pre">Success!!!</p><p name="24d8" id="24d8" class="graf graf--p graf-after--p">We’re building an API though not a web app so let’s switch that to a JSON response</p><pre name="b016" id="b016" class="graf graf--pre graf-after--p">package main</pre><pre name="7728" id="7728" class="graf graf--pre graf-after--pre">import “github.com/gin-gonic/gin”</pre><pre name="e2b0" id="e2b0" class="graf graf--pre graf-after--pre">func main() {<br> r := gin.Default()<br> r.GET(“/”, func(c *gin.Context) {<br> <strong class="markup--strong markup--pre-strong">c.JSON(200, gin.H{<br> “message”: “Hello World”,<br> })</strong><br> })<br> r.Run() // listen and server on 0.0.0.0:8080<br>}</pre><p name="001b" id="001b" class="graf graf--p graf-after--pre">Save file, rerun your server and refresh your browser, you should see our message as JSON<br><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">{“message”: “Hello World”}</em></strong></p><h3 name="8c2f" id="8c2f" class="graf graf--h3 graf-after--p">Data Persistence with GORM</h3><p name="01aa" id="01aa" class="graf graf--p graf-after--h3">Now let’s take a look at our persistence layer. For this section we’re going to start with a local SQLite file based Database you can use locally. Later we’ll switch this to use a MySql to demonstrate that as well.</p><p name="9ff7" id="9ff7" class="graf graf--p graf-after--p">Gorm <a href="http://jinzhu.me/gorm/" data-href="http://jinzhu.me/gorm/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">http://jinzhu.me/gorm/</a> is a Object-relational mapping (ORM) framework for go. It significantly simplifies the mapping and persistence of models to the database. While I’m not a huge fan of ORMs for large complex systems, they do work well for prototyping new greenfield applications. Gorm is a popular tool for this in the Go space and we’ll take a look at it here.</p><p name="6b71" id="6b71" class="graf graf--p graf-after--p">To walk through gorm we’re going to swap out the Gin code we just wrote, and demonstrate gorm capabilities for a bit. Once we’ve walked through the key elements we’ll add Gin back into the app.</p><p name="853a" id="853a" class="graf graf--p graf-after--p">Let’s get started with a small example.</p><pre name="4bad" id="4bad" class="graf graf--pre graf-after--p">package main</pre><pre name="fa99" id="fa99" class="graf graf--pre graf-after--pre">import (<br> “github.com/jinzhu/gorm”<br> _ “github.com/jinzhu/gorm/dialects/sqlite”<br>)</pre><pre name="2433" id="2433" class="graf graf--pre graf-after--pre">func main() {<br> db, _ := gorm.Open(“sqlite3”, “./gorm.db”)<br> defer db.Close()</pre><pre name="59b9" id="59b9" class="graf graf--pre graf-after--pre">}</pre><p name="eab9" id="eab9" class="graf graf--p graf-after--pre">If you run this right now you’ll see a new file show up in your file system called gorm.db. This is our database file the system will use in the app. While we can see that our app runs, and gorm is getting used, our system isn’t doing much yet. Lets add some more code.</p><pre name="139e" id="139e" class="graf graf--pre graf-after--p">package main</pre><pre name="934e" id="934e" class="graf graf--pre graf-after--pre">import (<br> “fmt”</pre><pre name="c623" id="c623" class="graf graf--pre graf--startsWithDoubleQuote graf-after--pre">“github.com/jinzhu/gorm”<br> _ “github.com/jinzhu/gorm/dialects/sqlite”<br>)</pre><pre name="ba06" id="ba06" class="graf graf--pre graf-after--pre"><strong class="markup--strong markup--pre-strong">type Person struct {<br> ID uint `json:”id”`<br> FirstName string `json:”firstname”`<br> LastName string `json:”lastname”`<br>}</strong></pre><pre name="92ae" id="92ae" class="graf graf--pre graf-after--pre">func main() {<br> db, _ := gorm.Open(“sqlite3”, “./gorm.db”)<br> defer db.Close()</pre><pre name="df98" id="df98" class="graf graf--pre graf-after--pre"><strong class="markup--strong markup--pre-strong"> p1 := Person{FirstName: “John”, LastName: “Doe”}<br> p2 := Person{FirstName: “Jane”, LastName: “Smith”}</strong></pre><pre name="d125" id="d125" class="graf graf--pre graf-after--pre"><strong class="markup--strong markup--pre-strong"> fmt.Println(p1.FirstName)<br> fmt.Println(p2.LastName)</strong></pre><pre name="a97e" id="a97e" class="graf graf--pre graf-after--pre">}</pre><p name="08c1" id="08c1" class="graf graf--p graf-after--pre">Here we’ve just added a simple Person struct and created a couple instances before using them to print out the values. Remember the fields on the Person struct need to start with a capital letter, as this is how Go understands these are public fields.</p><p name="5d22" id="5d22" class="graf graf--p graf-after--p">Now that we’ve got an object to work with let’s use Gorm.</p><pre name="a16c" id="a16c" class="graf graf--pre graf-after--p">package main</pre><pre name="78b1" id="78b1" class="graf graf--pre graf-after--pre">import (<br> “fmt”</pre><pre name="c6c4" id="c6c4" class="graf graf--pre graf--startsWithDoubleQuote graf-after--pre">“github.com/jinzhu/gorm”<br> _ “github.com/jinzhu/gorm/dialects/sqlite”<br>)</pre><pre name="78a4" id="78a4" class="graf graf--pre graf-after--pre">type Person struct {<br> ID uint `json:”id”`<br> FirstName string `json:”firstname”`<br> LastName string `json:”lastname”`<br>}</pre><pre name="e9b5" id="e9b5" class="graf graf--pre graf-after--pre">func main() {<br> db, _ := gorm.Open(“sqlite3”, “./gorm.db”)<br> defer db.Close()</pre><pre name="0438" id="0438" class="graf graf--pre graf-after--pre"><strong class="markup--strong markup--pre-strong"> db.AutoMigrate(&amp;Person{})</strong></pre><pre name="fe53" id="fe53" class="graf graf--pre graf-after--pre"> p1 := Person{FirstName: “John”, LastName: “Doe”}<br> p2 := Person{FirstName: “Jane”, LastName: “Smith”}</pre><pre name="2676" id="2676" class="graf graf--pre graf-after--pre"> <strong class="markup--strong markup--pre-strong">db.Create(&amp;p1)</strong><br> <strong class="markup--strong markup--pre-strong">var p3 Person </strong>// identify a Person type for us to store the results in<br> <strong class="markup--strong markup--pre-strong">db.First(&amp;p3)</strong> // Find the first record in the Database and store it in p3</pre><pre name="8dd1" id="8dd1" class="graf graf--pre graf-after--pre"> fmt.Println(p1.FirstName)<br> fmt.Println(p2.LastName)<br> <strong class="markup--strong markup--pre-strong">fmt.Println(p3.LastName)</strong> // print out our record from the database</pre><pre name="3ee3" id="3ee3" class="graf graf--pre graf-after--pre">}</pre><p name="6879" id="6879" class="graf graf--p graf-after--pre">Great now let’s run it and see what we’ve got</p><pre name="0644" id="0644" class="graf graf--pre graf-after--p"><br>$ go run main.go<br>John<br>Smith<br>Doe</pre><p name="bbd1" id="bbd1" class="graf graf--p graf-after--pre">Wow that was pretty easy. Just a few lines of code and we’re able to save and retrieve from a database. Gorm has a lot more options on how to store, and query on their site. We’ll get into a couple core pieces next, but do check out their docs for more options</p><h3 name="6ef7" id="6ef7" class="graf graf--h3 graf-after--p">Making the API</h3><p name="2734" id="2734" class="graf graf--p graf-after--h3">We’ve reviewed how the frameworks function independently. Now it’s time to pull everything together into a usable API</p><h4 name="30f1" id="30f1" class="graf graf--h4 graf-after--p">Read All</h4><p name="7e14" id="7e14" class="graf graf--p graf-after--h4">Let’s start with the Read portion of CRUD, by querying the data we added earlier. I’m going to remove a few of the lines we just went through and add back in the Gin framework with a new route to query our DB.</p><pre name="6a0e" id="6a0e" class="graf graf--pre graf-after--p">package main</pre><pre name="4239" id="4239" class="graf graf--pre graf-after--pre">import (<br> “fmt”</pre><pre name="5f1a" id="5f1a" class="graf graf--pre graf-after--pre"> “github.com/gin-gonic/gin”<br> “github.com/jinzhu/gorm”<br> _ “github.com/jinzhu/gorm/dialects/sqlite”<br>)</pre><pre name="d8c0" id="d8c0" class="graf graf--pre graf-after--pre">var db *gorm.DB<br>var err error</pre><pre name="b5d2" id="b5d2" class="graf graf--pre graf-after--pre">type Person struct {<br> ID uint `json:”id”`<br> FirstName string `json:”firstname”`<br> LastName string `json:”lastname”`<br>}</pre><pre name="53a2" id="53a2" class="graf graf--pre graf-after--pre">func main() {</pre><pre name="9060" id="9060" class="graf graf--pre graf-after--pre"> // NOTE: See we’re using = to assign the global var<br> // instead of := which would assign it only in this function<br> db, err = gorm.Open(“sqlite3”, “./gorm.db”)<br> if err != nil {<br>   fmt.Println(err)<br> }<br> defer db.Close()</pre><pre name="c45f" id="c45f" class="graf graf--pre graf-after--pre"> db.AutoMigrate(&amp;Person{})</pre><pre name="c7b7" id="c7b7" class="graf graf--pre graf-after--pre"> r := gin.Default()<br> <strong class="markup--strong markup--pre-strong">r.GET(“/”, GetProjects)</strong></pre><pre name="ee62" id="ee62" class="graf graf--pre graf-after--pre"> r.Run(“:8080”)<br>}</pre><pre name="a075" id="a075" class="graf graf--pre graf-after--pre"><strong class="markup--strong markup--pre-strong">func GetProjects(c *gin.Context) {<br> var people []Person<br> if err := db.Find(&amp;people).Error; err != nil {<br>    c.AbortWithStatus(404)<br>    fmt.Println(err)<br> } else {<br>    c.JSON(200, people)<br> }</strong></pre><pre name="27c7" id="27c7" class="graf graf--pre graf-after--pre"><strong class="markup--strong markup--pre-strong">}</strong></pre><p name="36d8" id="36d8" class="graf graf--p graf-after--pre">Now run it and head to <a href="http://localhost:8080" data-href="http://localhost:8080" class="markup--anchor markup--p-anchor" rel="nofollow" target="_blank">http://localhost:8080</a> and you should see</p><pre name="bb0e" id="bb0e" class="graf graf--pre graf-after--p">[{“id”: 1,”firstname”: “John”,”lastname”: “Doe”}]</pre><p name="dc67" id="dc67" class="graf graf--p graf-after--pre">Wow just a few lines of code and we’re already getting API responses. Most of that was error handling too!</p><h4 name="1b53" id="1b53" class="graf graf--h4 graf-after--p">Read One</h4><p name="e5fe" id="e5fe" class="graf graf--p graf-after--h4">OK lets update the context to be more REST oriented and add in the ability to look up a single person.</p><pre name="503f" id="503f" class="graf graf--pre graf-after--p">package main</pre><pre name="7ee8" id="7ee8" class="graf graf--pre graf-after--pre">import (<br> “fmt”</pre><pre name="1240" id="1240" class="graf graf--pre graf-after--pre"> “github.com/gin-gonic/gin”<br> “github.com/jinzhu/gorm”<br> _ “github.com/jinzhu/gorm/dialects/sqlite”<br>)</pre><pre name="71c6" id="71c6" class="graf graf--pre graf-after--pre">var db *gorm.DB<br>var err error</pre><pre name="6836" id="6836" class="graf graf--pre graf-after--pre">type Person struct {<br> ID uint `json:”id”`<br> FirstName string `json:”firstname”`<br> LastName string `json:”lastname”`<br>}</pre><pre name="b3c9" id="b3c9" class="graf graf--pre graf-after--pre">func main() {</pre><pre name="0d1a" id="0d1a" class="graf graf--pre graf-after--pre"> // NOTE: See we’re using = to assign the global var<br> // instead of := which would assign it only in this function<br> db, err = gorm.Open(“sqlite3”, “./gorm.db”)<br> if err != nil {<br>    fmt.Println(err)<br> }<br> defer db.Close()</pre><pre name="39bb" id="39bb" class="graf graf--pre graf-after--pre"> db.AutoMigrate(&amp;Person{})</pre><pre name="a17a" id="a17a" class="graf graf--pre graf-after--pre"> r := gin.Default()<br> r.GET(“/people/”, GetPeople)<br> <strong class="markup--strong markup--pre-strong">r.GET(“/people/:id”, GetPerson)</strong></pre><pre name="2f0a" id="2f0a" class="graf graf--pre graf-after--pre"> r.Run(“:8080”)<br>}</pre><pre name="7be0" id="7be0" class="graf graf--pre graf-after--pre"><strong class="markup--strong markup--pre-strong">func GetPerson(c *gin.Context) {<br> id := c.Params.ByName(“id”)<br> var person Person<br> if err := db.Where(“id = ?”, id).First(&amp;person).Error; err != nil {<br>    c.AbortWithStatus(404)<br>    fmt.Println(err)<br> } else {<br>    c.JSON(200, person)<br> }<br>}</strong></pre><pre name="e470" id="e470" class="graf graf--pre graf-after--pre">func GetPeople(c *gin.Context) {<br> var people []Person<br> if err := db.Find(&amp;people).Error; err != nil {<br> c.AbortWithStatus(404)<br>    fmt.Println(err)<br> } else {<br>    c.JSON(200, people)<br> }</pre><pre name="ed59" id="ed59" class="graf graf--pre graf-after--pre">}</pre><p name="a475" id="a475" class="graf graf--p graf-after--pre">Now run the server but NOTE that we changed the context so now you’ll head over to <a href="http://localhost:8080/people/" data-href="http://localhost:8080/people/" class="markup--anchor markup--p-anchor" rel="nofollow" target="_blank">http://localhost:8080/people/</a> to see your list. Once there add the ID to the end of the url and you’ll get the single record back <a href="http://localhost:8080/people/1" data-href="http://localhost:8080/people/1" class="markup--anchor markup--p-anchor" rel="nofollow" target="_blank">http://localhost:8080/people/1</a></p><pre name="b9ab" id="b9ab" class="graf graf--pre graf-after--p">{“id”: 1,”firstname”: “John”,”lastname”: “Doe”}</pre><h4 name="852d" id="852d" class="graf graf--h4 graf-after--pre">Create</h4><p name="3bbe" id="3bbe" class="graf graf--p graf-after--h4">That was hard to see the difference using only one record. It was hard to tell the difference between [{…}] and {…} So let’s add in the Create function and route</p><pre name="5b2d" id="5b2d" class="graf graf--pre graf-after--p">package main</pre><pre name="2445" id="2445" class="graf graf--pre graf-after--pre">import (<br> “fmt”</pre><pre name="bd13" id="bd13" class="graf graf--pre graf-after--pre"> “github.com/gin-gonic/gin”<br> “github.com/jinzhu/gorm”<br> _ “github.com/jinzhu/gorm/dialects/sqlite”<br>)</pre><pre name="21fe" id="21fe" class="graf graf--pre graf-after--pre">var db *gorm.DB<br>var err error</pre><pre name="2e9c" id="2e9c" class="graf graf--pre graf-after--pre">type Person struct {<br> ID uint `json:”id”`<br> FirstName string `json:”firstname”`<br> LastName string `json:”lastname”`<br>}</pre><pre name="f503" id="f503" class="graf graf--pre graf-after--pre">func main() {</pre><pre name="08e6" id="08e6" class="graf graf--pre graf-after--pre"> // NOTE: See we’re using = to assign the global var<br> // instead of := which would assign it only in this function<br> db, err = gorm.Open(“sqlite3”, “./gorm.db”)<br> if err != nil {<br> fmt.Println(err)<br> }<br> defer db.Close()</pre><pre name="ef6e" id="ef6e" class="graf graf--pre graf-after--pre">db.AutoMigrate(&amp;Person{})</pre><pre name="c023" id="c023" class="graf graf--pre graf-after--pre"> r := gin.Default()<br> r.GET(“/people/”, GetPeople)<br> r.GET(“/people/:id”, GetPerson)<br> <strong class="markup--strong markup--pre-strong">r.POST(“/people”, CreatePerson)</strong></pre><pre name="593b" id="593b" class="graf graf--pre graf-after--pre">r.Run(“:8080”)<br>}</pre><pre name="ff17" id="ff17" class="graf graf--pre graf-after--pre"><strong class="markup--strong markup--pre-strong">func CreatePerson(c *gin.Context) {</strong></pre><pre name="c537" id="c537" class="graf graf--pre graf-after--pre"><strong class="markup--strong markup--pre-strong"> var person Person<br> c.BindJSON(&amp;person)</strong></pre><pre name="36fd" id="36fd" class="graf graf--pre graf-after--pre"><strong class="markup--strong markup--pre-strong"> db.Create(&amp;person)<br> c.JSON(200, person)<br>}</strong></pre><pre name="83bc" id="83bc" class="graf graf--pre graf-after--pre">func GetPerson(c *gin.Context) {<br> id := c.Params.ByName(“id”)<br> var person Person<br> if err := db.Where(“id = ?”, id).First(&amp;person).Error; err != nil {<br>    c.AbortWithStatus(404)<br>    fmt.Println(err)<br> } else {<br>    c.JSON(200, person)<br> }<br>}</pre><pre name="272f" id="272f" class="graf graf--pre graf-after--pre">func GetPeople(c *gin.Context) {<br> var people []Person<br> if err := db.Find(&amp;people).Error; err != nil {<br>    c.AbortWithStatus(404)<br>    fmt.Println(err)<br> } else {<br>    c.JSON(200, people)<br> }</pre><pre name="bdd3" id="bdd3" class="graf graf--pre graf-after--pre">}</pre><p name="56b6" id="56b6" class="graf graf--p graf-after--pre">Now to test this one we’re going to run a curl command from the command line. We’ll also need the server running so open up another terminal window so you can run both commands. Run your server in the first window with $ go run main.go</p><p name="cf23" id="cf23" class="graf graf--p graf-after--p">Once it’s running, in the second window run:</p><pre name="f88a" id="f88a" class="graf graf--pre graf-after--p">$ curl -i -X POST <a href="http://localhost:8080/people" data-href="http://localhost:8080/people" class="markup--anchor markup--pre-anchor" rel="nofollow" target="_blank">http://localhost:8080/people</a> -d ‘{ “FirstName”: “Elvis”, “LastName”: “Presley”}’</pre><p name="689f" id="689f" class="graf graf--p graf-after--pre">You should see a successful response</p><pre name="d3cc" id="d3cc" class="graf graf--pre graf-after--p">HTTP/1.1 200 OK<br>Content-Type: application/json; charset=utf-8<br>Date: Sat, 03 Dec 2016 00:14:06 GMT<br>Content-Length: 50</pre><pre name="fa3f" id="fa3f" class="graf graf--pre graf-after--pre">{“id”:2,”firstname”:”Elvis”,”lastname”:”Presley”}<br><br></pre><p name="2bbe" id="2bbe" class="graf graf--p graf-after--pre">Now lets list our people in the browser to see that it lists all our entries<br><a href="http://localhost:8080/people/" data-href="http://localhost:8080/people/" class="markup--anchor markup--p-anchor" rel="nofollow" target="_blank">http://localhost:8080/people/</a></p><pre name="5c82" id="5c82" class="graf graf--pre graf-after--p">[{“id”: 1,”firstname”: “John”,”lastname”: “Doe”},{“id”: 2,”firstname”: “Elvis”,”lastname”: “Presley”}]</pre><p name="4816" id="4816" class="graf graf--p graf-after--pre">Fantastic, it worked! You think that’s cool watch this.</p><p name="1e85" id="1e85" class="graf graf--p graf-after--p">This time only send in part of the Person</p><pre name="6023" id="6023" class="graf graf--pre graf-after--p">$ curl -i -X POST <a href="http://localhost:8080/people" data-href="http://localhost:8080/people" class="markup--anchor markup--pre-anchor" rel="nofollow" target="_blank">http://localhost:8080/people</a> -d ‘{ “FirstName”: “Madison”}’</pre><p name="0314" id="0314" class="graf graf--p graf-after--pre">Refresh your browser and see that it added only the data we sent in</p><pre name="620b" id="620b" class="graf graf--pre graf-after--p">[{“id”: 1,”firstname”: “John”,”lastname”: “Doe”},{“id”: 2,”firstname”: “Elvis”,”lastname”: “Presley”},<strong class="markup--strong markup--pre-strong">{“id”: 3,”firstname”: “Madison”,”lastname”: “”}</strong>]</pre><p name="cc46" id="cc46" class="graf graf--p graf-after--pre">That’s part of Gin, note the c.BindJSON(&amp;person) line in the CreatePerson function. It automatically populates any matching data fields from the request.</p><p name="e593" id="e593" class="graf graf--p graf-after--p">Also you may have missed it but the case in my database and the case i passed in is different. Gin is very forgiving with the case of the fields as well. I passed in FirstName but the DB uses firstname.</p><p name="9f0c" id="9f0c" class="graf graf--p graf-after--p">So simple!</p><h4 name="c986" id="c986" class="graf graf--h4 graf-after--p">Update</h4><p name="d41c" id="d41c" class="graf graf--p graf-after--h4">We can’t leave Madison with no last name though. Time to add our update function</p><pre name="4999" id="4999" class="graf graf--pre graf-after--p">package main</pre><pre name="038e" id="038e" class="graf graf--pre graf-after--pre">import (<br> “fmt”</pre><pre name="1014" id="1014" class="graf graf--pre graf-after--pre"> “github.com/gin-gonic/gin”<br> “github.com/jinzhu/gorm”<br> _ “github.com/jinzhu/gorm/dialects/sqlite”<br>)</pre><pre name="e504" id="e504" class="graf graf--pre graf-after--pre">var db *gorm.DB<br>var err error</pre><pre name="1de1" id="1de1" class="graf graf--pre graf-after--pre">type Person struct {<br> ID uint `json:”id”`<br> FirstName string `json:”firstname”`<br> LastName string `json:”lastname”`<br>}</pre><pre name="70ea" id="70ea" class="graf graf--pre graf-after--pre">func main() {</pre><pre name="dc1a" id="dc1a" class="graf graf--pre graf-after--pre"> // NOTE: See we’re using = to assign the global var<br> // instead of := which would assign it only in this function<br> db, err = gorm.Open(“sqlite3”, “./gorm.db”)<br> if err != nil {<br>    fmt.Println(err)<br> }<br> defer db.Close()</pre><pre name="cddc" id="cddc" class="graf graf--pre graf-after--pre"> db.AutoMigrate(&amp;Person{})</pre><pre name="bf27" id="bf27" class="graf graf--pre graf-after--pre"> r := gin.Default()<br> r.GET(“/people/”, GetPeople)<br> r.GET(“/people/:id”, GetPerson)<br> r.POST(“/people”, CreatePerson)<br><strong class="markup--strong markup--pre-strong"> r.PUT(“/people/:id”, UpdatePerson)</strong></pre><pre name="28c2" id="28c2" class="graf graf--pre graf-after--pre"> r.Run(“:8080”)<br>}</pre><pre name="bf4d" id="bf4d" class="graf graf--pre graf-after--pre"><strong class="markup--strong markup--pre-strong">func UpdatePerson(c *gin.Context) {</strong></pre><pre name="879e" id="879e" class="graf graf--pre graf-after--pre"><strong class="markup--strong markup--pre-strong"> var person Person<br> id := c.Params.ByName(“id”)</strong></pre><pre name="d82f" id="d82f" class="graf graf--pre graf-after--pre"><strong class="markup--strong markup--pre-strong"> if err := db.Where(“id = ?”, id).First(&amp;person).Error; err != nil {<br>    c.AbortWithStatus(404)<br>    fmt.Println(err)<br> }<br> c.BindJSON(&amp;person)</strong></pre><pre name="484a" id="484a" class="graf graf--pre graf-after--pre"><strong class="markup--strong markup--pre-strong"> db.Save(&amp;person)<br> c.JSON(200, person)</strong></pre><pre name="ccb3" id="ccb3" class="graf graf--pre graf-after--pre"><strong class="markup--strong markup--pre-strong">}</strong></pre><pre name="36b9" id="36b9" class="graf graf--pre graf-after--pre">func CreatePerson(c *gin.Context) {</pre><pre name="375a" id="375a" class="graf graf--pre graf-after--pre"> var person Person<br> c.BindJSON(&amp;person)</pre><pre name="dd90" id="dd90" class="graf graf--pre graf-after--pre"> db.Create(&amp;person)<br> c.JSON(200, person)<br>}</pre><pre name="b874" id="b874" class="graf graf--pre graf-after--pre">func GetPerson(c *gin.Context) {<br> id := c.Params.ByName(“id”)<br> var person Person<br> if err := db.Where(“id = ?”, id).First(&amp;person).Error; err != nil {<br>    c.AbortWithStatus(404)<br>    fmt.Println(err)<br> } else {<br>    c.JSON(200, person)<br> }<br>}</pre><pre name="1383" id="1383" class="graf graf--pre graf-after--pre">func GetPeople(c *gin.Context) {<br> var people []Person<br> if err := db.Find(&amp;people).Error; err != nil {<br>    c.AbortWithStatus(404)<br>    fmt.Println(err)<br> } else {<br>    c.JSON(200, people)<br> }</pre><pre name="2816" id="2816" class="graf graf--pre graf-after--pre">}</pre><p name="0999" id="0999" class="graf graf--p graf-after--pre">To test this one, we’ll use a similar curl command but we’ll call PUT method on a specific user</p><pre name="640d" id="640d" class="graf graf--pre graf-after--p">$ <strong class="markup--strong markup--pre-strong">curl -i -X PUT </strong><a href="http://localhost:8080/people/3" data-href="http://localhost:8080/people/3" class="markup--anchor markup--pre-anchor" rel="nofollow" target="_blank"><strong class="markup--strong markup--pre-strong">http://localhost:8080/people/3</strong></a><strong class="markup--strong markup--pre-strong"> -d ‘{ “FirstName”: “Madison”, “LastName”:”Sawyer” }’</strong><br>HTTP/1.1 200 OK<br>Content-Type: application/json; charset=utf-8<br>Date: Sat, 03 Dec 2016 00:25:35 GMT<br>Content-Length: 51</pre><pre name="5147" id="5147" class="graf graf--pre graf-after--pre">{“id”:3,”firstname”:”Madison”,”lastname”:”Sawyer”}</pre><p name="05aa" id="05aa" class="graf graf--p graf-after--pre">Sure enough if we refresh our browser we see it added sawyer to the last name.</p><pre name="bc95" id="bc95" class="graf graf--pre graf-after--p">[{“id”: 1,”firstname”: “John”,”lastname”: “Doe”},{“id”: 2,”firstname”: “Elvis”,”lastname”: “Presley”},<strong class="markup--strong markup--pre-strong">{“id”: 3,”firstname”: “Madison”,”lastname”: “Sawyer”}</strong>]</pre><p name="b752" id="b752" class="graf graf--p graf-after--pre">Again we can send in partial data for a partial update</p><pre name="93a4" id="93a4" class="graf graf--pre graf-after--p">$ curl -i -X PUT <a href="http://localhost:8080/people/3" data-href="http://localhost:8080/people/3" class="markup--anchor markup--pre-anchor" rel="nofollow" target="_blank">http://localhost:8080/people/3</a> -d ‘{ “FirstName”: “Tom” }’</pre><p name="1b00" id="1b00" class="graf graf--p graf-after--pre">Which shows up as</p><pre name="4814" id="4814" class="graf graf--pre graf-after--p">[{“id”: 1,”firstname”: “John”,”lastname”: “Doe”},{“id”: 2,”firstname”: “Elvis”,”lastname”: “Presley”},{“id”: 3,”firstname”: “Tom”,”lastname”: “Sawyer”}]</pre><h4 name="8657" id="8657" class="graf graf--h4 graf-after--pre">Delete</h4><p name="a9cf" id="a9cf" class="graf graf--p graf-after--h4">Now to round out the solution lets dd in the delete function.</p><pre name="88f4" id="88f4" class="graf graf--pre graf-after--p">package main</pre><pre name="6083" id="6083" class="graf graf--pre graf-after--pre">import (<br> “fmt”</pre><pre name="0f3a" id="0f3a" class="graf graf--pre graf-after--pre"> “github.com/gin-gonic/gin”<br> “github.com/jinzhu/gorm”<br> _ “github.com/jinzhu/gorm/dialects/sqlite”<br>)</pre><pre name="b718" id="b718" class="graf graf--pre graf-after--pre">var db *gorm.DB<br>var err error</pre><pre name="7688" id="7688" class="graf graf--pre graf-after--pre">type Person struct {<br> ID uint `json:”id”`<br> FirstName string `json:”firstname”`<br> LastName string `json:”lastname”`<br>}</pre><pre name="4a6b" id="4a6b" class="graf graf--pre graf-after--pre">func main() {</pre><pre name="0ff0" id="0ff0" class="graf graf--pre graf-after--pre"> // NOTE: See we’re using = to assign the global var<br> // instead of := which would assign it only in this function<br> db, err = gorm.Open(“sqlite3”, “./gorm.db”)<br> if err != nil {<br>    fmt.Println(err)<br> }<br> defer db.Close()</pre><pre name="8e1b" id="8e1b" class="graf graf--pre graf-after--pre"> db.AutoMigrate(&amp;Person{})</pre><pre name="db41" id="db41" class="graf graf--pre graf-after--pre"> r := gin.Default()<br> r.GET(“/people/”, GetPeople)<br> r.GET(“/people/:id”, GetPerson)<br> r.POST(“/people”, CreatePerson)<br> r.PUT(“/people/:id”, UpdatePerson)<br><strong class="markup--strong markup--pre-strong"> r.DELETE(“/people/:id”, DeletePerson)</strong></pre><pre name="6743" id="6743" class="graf graf--pre graf-after--pre"> r.Run(“:8080”)<br>}</pre><pre name="0ab9" id="0ab9" class="graf graf--pre graf-after--pre"><strong class="markup--strong markup--pre-strong">func DeletePerson(c *gin.Context) {<br> id := c.Params.ByName(“id”)<br> var person Person<br> d := db.Where(“id = ?”, id).Delete(&amp;person)<br> fmt.Println(d)<br> c.JSON(200, gin.H{“id #” + id: “deleted”})<br>}</strong></pre><pre name="d0e2" id="d0e2" class="graf graf--pre graf-after--pre">func UpdatePerson(c *gin.Context) {</pre><pre name="84da" id="84da" class="graf graf--pre graf-after--pre"> var person Person<br> id := c.Params.ByName(“id”)</pre><pre name="c041" id="c041" class="graf graf--pre graf-after--pre"> if err := db.Where(“id = ?”, id).First(&amp;person).Error; err != nil {<br>    c.AbortWithStatus(404)<br>    fmt.Println(err)<br> }<br> c.BindJSON(&amp;person)</pre><pre name="747a" id="747a" class="graf graf--pre graf-after--pre"> db.Save(&amp;person)<br> c.JSON(200, person)</pre><pre name="25a1" id="25a1" class="graf graf--pre graf-after--pre">}</pre><pre name="f863" id="f863" class="graf graf--pre graf-after--pre">func CreatePerson(c *gin.Context) {</pre><pre name="1f00" id="1f00" class="graf graf--pre graf-after--pre"> var person Person<br> c.BindJSON(&amp;person)</pre><pre name="5d6d" id="5d6d" class="graf graf--pre graf-after--pre"> db.Create(&amp;person)<br> c.JSON(200, person)<br>}</pre><pre name="ae10" id="ae10" class="graf graf--pre graf-after--pre">func GetPerson(c *gin.Context) {<br> id := c.Params.ByName(“id”)<br> var person Person<br> if err := db.Where(“id = ?”, id).First(&amp;person).Error; err != nil {<br>    c.AbortWithStatus(404)<br>    fmt.Println(err)<br> } else {<br>    c.JSON(200, person)<br> }<br>}</pre><pre name="7370" id="7370" class="graf graf--pre graf-after--pre">func GetPeople(c *gin.Context) {<br> var people []Person<br> if err := db.Find(&amp;people).Error; err != nil {<br>    c.AbortWithStatus(404)<br>    fmt.Println(err)<br> } else {<br>    c.JSON(200, people)<br> }</pre><pre name="b05a" id="b05a" class="graf graf--pre graf-after--pre">}</pre><p name="3eed" id="3eed" class="graf graf--p graf-after--pre">And to test this we’ll call it using the Delete method with curl</p><pre name="6f8a" id="6f8a" class="graf graf--pre graf-after--p">$ curl -i -X DELETE <a href="http://localhost:8080/people/1" data-href="http://localhost:8080/people/1" class="markup--anchor markup--pre-anchor" rel="nofollow" target="_blank">http://localhost:8080/people/1</a></pre><pre name="2233" id="2233" class="graf graf--pre graf-after--pre">HTTP/1.1 200 OK<br>Content-Type: application/json; charset=utf-8<br>Date: Sat, 03 Dec 2016 00:32:40 GMT<br>Content-Length: 20</pre><pre name="254a" id="254a" class="graf graf--pre graf-after--pre">{“id #1”:”deleted”}</pre><p name="55af" id="55af" class="graf graf--p graf-after--pre">Refresh your browser and you’ll see our John Doe has been removed</p><pre name="cf01" id="cf01" class="graf graf--pre graf-after--p">[{“id”: 2,”firstname”: “Elvis”,”lastname”: “Presley”},{“id”: 3,”firstname”: “Tom”,”lastname”: “Sawyer”}]</pre><h3 name="24fe" id="24fe" class="graf graf--h3 graf-after--pre">Changing the Model</h3><p name="32ed" id="32ed" class="graf graf--p graf-after--h3">With the basic API defined, now is a great time to start changing the Person object. We can easily modify the database and api by only changing the person struct.</p><p name="de76" id="de76" class="graf graf--p graf-after--p">All i’m going to do is add a city field to the Person Struct. Nothing else. One line.</p><pre name="321a" id="321a" class="graf graf--pre graf-after--p">type Person struct {<br> ID uint `json:”id”`<br> FirstName string `json:”firstname”`<br> LastName string `json:”lastname”`<br> <strong class="markup--strong markup--pre-strong">City string `json:”city”`</strong><br>}</pre><p name="6272" id="6272" class="graf graf--p graf-after--pre">Refreshing our browser and pulling a list you can see all my objects now have city</p><pre name="edd5" id="edd5" class="graf graf--pre graf-after--p"><strong class="markup--strong markup--pre-strong">[{“id”: 2,”firstname”: “Elvis”,”lastname”: “Presley”,”city”: “”},{“id”: 3,”firstname”: “Tom”,”lastname”: “Sawyer”,”city”: “”}]</strong></pre><p name="59e3" id="59e3" class="graf graf--p graf-after--pre">I can create and update the new field with no other changes</p><pre name="b9cb" id="b9cb" class="graf graf--pre graf-after--p">$ <strong class="markup--strong markup--pre-strong">curl -i -X PUT </strong><a href="http://localhost:8080/people/2" data-href="http://localhost:8080/people/2" class="markup--anchor markup--pre-anchor" rel="nofollow" target="_blank"><strong class="markup--strong markup--pre-strong">http://localhost:8080/people/2</strong></a><strong class="markup--strong markup--pre-strong"> -d ‘{ “city”: “Memphis” }’</strong><br>HTTP/1.1 200 OK<br>Content-Type: application/json; charset=utf-8<br>Date: Sat, 03 Dec 2016 00:40:57 GMT<br>Content-Length: 67</pre><pre name="0917" id="0917" class="graf graf--pre graf-after--pre">{“id”:2,”firstname”:”Elvis”,”lastname”:”Presley”,<strong class="markup--strong markup--pre-strong">”city”:”Memphis”</strong>}</pre><p name="da18" id="da18" class="graf graf--p graf-after--pre">This is all handled by the <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">db.AutoMigrate(&amp;Person{})</em></strong> line in our main function. In a production environment we’d want to manage the schema a lot closer, but for prototyping this is perfect.</p><h3 name="f93e" id="f93e" class="graf graf--h3 graf-after--p">Using MySql</h3><p name="d6f4" id="d6f4" class="graf graf--p graf-after--h3">I hear ya. This is great but what about using MySql instead of SQLite.</p><p name="23f4" id="23f4" class="graf graf--p graf-after--p">For that we just need to swap out an import statement and the connection..</p><p name="e58f" id="e58f" class="graf graf--p graf-after--p">Import <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">_ “github.com/go-sql-driver/mysql”</em></strong></p><p name="8895" id="8895" class="graf graf--p graf-after--p">Connection</p><pre name="0ca0" id="0ca0" class="graf graf--pre graf-after--p">db, _ = gorm.Open(“mysql”, “user:pass@tcp(127.0.0.1:3306)/samples?charset=utf8&amp;parseTime=True&amp;loc=Local”)</pre><p name="83d0" id="83d0" class="graf graf--p graf-after--pre">Full example</p><pre name="b620" id="b620" class="graf graf--pre graf-after--p">package main</pre><pre name="b329" id="b329" class="graf graf--pre graf-after--pre">// only need mysql OR sqlite <br>// both are included here for reference<br>import (<br> “fmt”</pre><pre name="f279" id="f279" class="graf graf--pre graf-after--pre"> “github.com/gin-gonic/gin”<br><strong class="markup--strong markup--pre-strong"> _ “github.com/go-sql-driver/mysql”</strong> <br> “github.com/jinzhu/gorm”<br> _ “github.com/jinzhu/gorm/dialects/sqlite”<br>)</pre><pre name="08b7" id="08b7" class="graf graf--pre graf-after--pre">var db *gorm.DB<br>var err error</pre><pre name="d517" id="d517" class="graf graf--pre graf-after--pre">type Person struct {<br> ID uint `json:”id”`<br> FirstName string `json:”firstname”`<br> LastName string `json:”lastname”`<br> City string `json:”city”`<br>}</pre><pre name="5345" id="5345" class="graf graf--pre graf-after--pre">func main() {</pre><pre name="cb91" id="cb91" class="graf graf--pre graf-after--pre"> // NOTE: See we’re using = to assign the global var<br> // instead of := which would assign it only in this function<br> //db, err = gorm.Open(“sqlite3”, “./gorm.db”)<br> <strong class="markup--strong markup--pre-strong">db, _ = gorm.Open(“mysql”, “user:pass@tcp(127.0.0.1:3306)/database?charset=utf8&amp;parseTime=True&amp;loc=Local”)</strong></pre><pre name="1329" id="1329" class="graf graf--pre graf-after--pre"> if err != nil {<br>    fmt.Println(err)<br> }<br> defer db.Close()</pre><pre name="6454" id="6454" class="graf graf--pre graf-after--pre"> db.AutoMigrate(&amp;Person{})</pre><pre name="4d1b" id="4d1b" class="graf graf--pre graf-after--pre"> r := gin.Default()<br> r.GET(“/people/”, GetPeople)<br> r.GET(“/people/:id”, GetPerson)<br> r.POST(“/people”, CreatePerson)<br> r.PUT(“/people/:id”, UpdatePerson)<br> r.DELETE(“/people/:id”, DeletePerson)</pre><pre name="bf8a" id="bf8a" class="graf graf--pre graf-after--pre"> r.Run(“:8080”)<br>}</pre><pre name="e657" id="e657" class="graf graf--pre graf-after--pre">func DeletePerson(c *gin.Context) {<br> id := c.Params.ByName(“id”)<br> var person Person<br> d := db.Where(“id = ?”, id).Delete(&amp;person)<br> fmt.Println(d)<br> c.JSON(200, gin.H{“id #” + id: “deleted”})<br>}</pre><pre name="42ef" id="42ef" class="graf graf--pre graf-after--pre">func UpdatePerson(c *gin.Context) {</pre><pre name="c43f" id="c43f" class="graf graf--pre graf-after--pre"> var person Person<br> id := c.Params.ByName(“id”)</pre><pre name="7041" id="7041" class="graf graf--pre graf-after--pre"> if err := db.Where(“id = ?”, id).First(&amp;person).Error; err != nil {<br>    c.AbortWithStatus(404)<br>    fmt.Println(err)<br> }<br> c.BindJSON(&amp;person)</pre><pre name="2c78" id="2c78" class="graf graf--pre graf-after--pre"> db.Save(&amp;person)<br> c.JSON(200, person)</pre><pre name="fc9a" id="fc9a" class="graf graf--pre graf-after--pre">}</pre><pre name="11dd" id="11dd" class="graf graf--pre graf-after--pre">func CreatePerson(c *gin.Context) {</pre><pre name="9847" id="9847" class="graf graf--pre graf-after--pre"> var person Person<br> c.BindJSON(&amp;person)</pre><pre name="d66f" id="d66f" class="graf graf--pre graf-after--pre"> db.Create(&amp;person)<br> c.JSON(200, person)<br>}</pre><pre name="2785" id="2785" class="graf graf--pre graf-after--pre">func GetPerson(c *gin.Context) {<br> id := c.Params.ByName(“id”)<br> var person Person<br> if err := db.Where(“id = ?”, id).First(&amp;person).Error; err != nil {<br>    c.AbortWithStatus(404)<br>    fmt.Println(err)<br> } else {<br>    c.JSON(200, person)<br> }<br>}</pre><pre name="f810" id="f810" class="graf graf--pre graf-after--pre">func GetPeople(c *gin.Context) {<br> var people []Person<br> if err := db.Find(&amp;people).Error; err != nil {<br>    c.AbortWithStatus(404)<br>    fmt.Println(err)<br> } else {<br>    c.JSON(200, people)<br> }</pre><pre name="deae" id="deae" class="graf graf--pre graf-after--pre">}</pre><h3 name="df85" id="df85" class="graf graf--h3 graf-after--pre">Conclusion</h3><p name="e911" id="e911" class="graf graf--p graf-after--h3 graf--trailing">Go is a flexible language with a robust environment. Its extremely easy to build feature rich applications quickly and with a small amount of code. I hope this was a useful walkthrough. Please feel free to comment with your thoughts and questions</p></div></div></section></div><footer class="u-paddingTop10"><div class="container u-maxWidth740"><div class="row"><div class="col u-size12of12"></div></div><div class="row"><div class="col u-size12of12 js-postTags"><div class="u-paddingBottom10"><ul class="tags tags--postTags tags--borderless"><li><a class="link u-baseColor--link"   href="https://medium.com/tag/golang?source=post" data-action-source="post">Golang</a></li><li><a class="link u-baseColor--link"   href="https://medium.com/tag/programming?source=post" data-action-source="post">Programming</a></li><li><a class="link u-baseColor--link"   href="https://medium.com/tag/api?source=post" data-action-source="post">API</a></li></ul></div></div></div><section class="uiScale uiScale-ui--small uiScale-caption--regular u-borderTopLightest u-marginTop10 u-paddingTop20"><div class="ui-h3 u-textColorDarker u-fontSize22">One clap, two clap, three clap, forty?</div><p class="ui-body u-marginBottom20 u-textColorDark u-fontSize16">By clapping more or less, you can signal to us which stories really stand out.</p></section><div class="postActions js-postActionsFooter"><div class="u-flexCenter"><div class="u-flex1"><div class="multirecommend js-actionMultirecommend u-flexCenter u-width60" data-post-id="df87d98e6ed1" data-is-icon-29px="true" data-is-circle="true" data-has-recommend-list="true" data-source="post_actions_footer-----df87d98e6ed1---------------------clap_footer"><div class="u-relative u-foreground"><button class="button button--large button--circle button--withChrome u-baseColor--buttonNormal button--withIcon button--withSvgIcon clapButton js-actionMultirecommendButton clapButton--largePill u-relative u-foreground u-xs-paddingLeft13 u-width60 u-height60 u-accentColor--textNormal u-accentColor--buttonNormal clap-onboarding"  data-action="sign-up-prompt" data-sign-in-action="multivote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/df87d98e6ed1" data-action-source="post_actions_footer-----df87d98e6ed1---------------------clap_footer" aria-label="Clap"><span class="button-defaultState"><span class="svgIcon svgIcon--clap svgIcon--33px u-relative u-topNegative2 u-xs-top0"><svg class="svgIcon-use" width="33" height="33" viewBox="0 0 33 33" ><path d="M28.86 17.342l-3.64-6.402c-.292-.433-.712-.729-1.163-.8a1.124 1.124 0 0 0-.889.213c-.63.488-.742 1.181-.33 2.061l1.222 2.587 1.4 2.46c2.234 4.085 1.511 8.007-2.145 11.663-.26.26-.526.49-.797.707 1.42-.084 2.881-.683 4.292-2.094 3.822-3.823 3.565-7.876 2.05-10.395zm-6.252 11.075c3.352-3.35 3.998-6.775 1.978-10.469l-3.378-5.945c-.292-.432-.712-.728-1.163-.8a1.122 1.122 0 0 0-.89.213c-.63.49-.742 1.182-.33 2.061l1.72 3.638a.502.502 0 0 1-.806.568l-8.91-8.91a1.335 1.335 0 0 0-1.887 1.886l5.292 5.292a.5.5 0 0 1-.707.707l-5.292-5.292-1.492-1.492c-.503-.503-1.382-.505-1.887 0a1.337 1.337 0 0 0 0 1.886l1.493 1.492 5.292 5.292a.499.499 0 0 1-.353.854.5.5 0 0 1-.354-.147L5.642 13.96a1.338 1.338 0 0 0-1.887 0 1.338 1.338 0 0 0 0 1.887l2.23 2.228 3.322 3.324a.499.499 0 0 1-.353.853.502.502 0 0 1-.354-.146l-3.323-3.324a1.333 1.333 0 0 0-1.886 0 1.325 1.325 0 0 0-.39.943c0 .356.138.691.39.943l6.396 6.397c3.528 3.53 8.86 5.313 12.821 1.353zM12.73 9.26l5.68 5.68-.49-1.037c-.518-1.107-.426-2.13.224-2.89l-3.303-3.304a1.337 1.337 0 0 0-1.886 0 1.326 1.326 0 0 0-.39.944c0 .217.067.42.165.607zm14.787 19.184c-1.599 1.6-3.417 2.392-5.353 2.392-.349 0-.7-.03-1.058-.082a7.922 7.922 0 0 1-3.667.887c-3.049 0-6.115-1.626-8.359-3.87l-6.396-6.397A2.315 2.315 0 0 1 2 19.724a2.327 2.327 0 0 1 1.923-2.296l-.875-.875a2.339 2.339 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.647l-.139-.139c-.91-.91-.91-2.39 0-3.3.884-.884 2.421-.882 3.301 0l.138.14a2.335 2.335 0 0 1 3.948-1.24l.093.092c.091-.423.291-.828.62-1.157a2.336 2.336 0 0 1 3.3 0l3.384 3.386a2.167 2.167 0 0 1 1.271-.173c.534.086 1.03.354 1.441.765.11-.549.415-1.034.911-1.418a2.12 2.12 0 0 1 1.661-.41c.727.117 1.385.565 1.853 1.262l3.652 6.423c1.704 2.832 2.025 7.377-2.205 11.607zM13.217.484l-1.917.882 2.37 2.837-.454-3.719zm8.487.877l-1.928-.86-.44 3.697 2.368-2.837zM16.5 3.293L15.478-.005h2.044L16.5 3.293z" fill-rule="evenodd"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--clapFilled svgIcon--33px u-relative u-topNegative2 u-xs-top0"><svg class="svgIcon-use" width="33" height="33" viewBox="0 0 33 33" ><g fill-rule="evenodd"><path d="M29.58 17.1l-3.854-6.78c-.365-.543-.876-.899-1.431-.989a1.491 1.491 0 0 0-1.16.281c-.42.327-.65.736-.7 1.207v.001l3.623 6.367c2.46 4.498 1.67 8.802-2.333 12.807-.265.265-.536.505-.81.728 1.973-.222 3.474-1.286 4.45-2.263 4.166-4.165 3.875-8.6 2.215-11.36zm-4.831.82l-3.581-6.3c-.296-.439-.725-.742-1.183-.815a1.105 1.105 0 0 0-.89.213c-.647.502-.755 1.188-.33 2.098l1.825 3.858a.601.601 0 0 1-.197.747.596.596 0 0 1-.77-.067L10.178 8.21c-.508-.506-1.393-.506-1.901 0a1.335 1.335 0 0 0-.393.95c0 .36.139.698.393.95v.001l5.61 5.61a.599.599 0 1 1-.848.847l-5.606-5.606c-.001 0-.002 0-.003-.002L5.848 9.375a1.349 1.349 0 0 0-1.902 0 1.348 1.348 0 0 0 0 1.901l1.582 1.582 5.61 5.61a.6.6 0 0 1-.848.848l-5.61-5.61c-.51-.508-1.393-.508-1.9 0a1.332 1.332 0 0 0-.394.95c0 .36.139.697.393.952l2.363 2.362c.002.001.002.002.002.003l3.52 3.52a.6.6 0 0 1-.848.847l-3.522-3.523h-.001a1.336 1.336 0 0 0-.95-.393 1.345 1.345 0 0 0-.949 2.295l6.779 6.78c3.715 3.713 9.327 5.598 13.49 1.434 3.527-3.528 4.21-7.13 2.086-11.015zM11.817 7.727c.06-.328.213-.64.466-.893.64-.64 1.755-.64 2.396 0l3.232 3.232c-.82.783-1.09 1.833-.764 2.992l-5.33-5.33z"/><path d="M13.285.48l-1.916.881 2.37 2.837z"/><path d="M21.719 1.361L19.79.501l-.44 3.697z"/><path d="M16.502 3.298L15.481 0h2.043z"/></g></svg></span></span></button><div class="clapUndo u-width60 u-round u-height32 u-absolute u-borderBox u-paddingRight5 u-transition--transform200Spring u-background--brandSageLighter js-clapUndo" style="top: 14px; padding: 2px;"><button class="button button--chromeless u-baseColor--buttonNormal button--withIcon button--withSvgIcon u-floatRight"  data-action="multivote-undo" data-action-value="df87d98e6ed1"><span class="svgIcon svgIcon--removeThin svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M20.13 8.11l-5.61 5.61-5.609-5.61-.801.801 5.61 5.61-5.61 5.61.801.8 5.61-5.609 5.61 5.61.8-.801-5.609-5.61 5.61-5.61" fill-rule="evenodd"/></svg></span></button></div></div><span class="u-textAlignCenter u-relative u-background js-actionMultirecommendCount u-marginLeft10"><button class="button button--chromeless u-baseColor--buttonNormal js-multirecommendCountButton"  data-action="show-recommends" data-action-value="df87d98e6ed1">159</button></span></div></div><div class="buttonSet u-flex0"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  data-action="scroll-to-responses" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--response svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M21.27 20.058c1.89-1.826 2.754-4.17 2.754-6.674C24.024 8.21 19.67 4 14.1 4 8.53 4 4 8.21 4 13.384c0 5.175 4.53 9.385 10.1 9.385 1.007 0 2-.14 2.95-.41.285.25.592.49.918.7 1.306.87 2.716 1.31 4.19 1.31.276-.01.494-.14.6-.36a.625.625 0 0 0-.052-.65c-.61-.84-1.042-1.71-1.282-2.58a5.417 5.417 0 0 1-.154-.75zm-3.85 1.324l-.083-.28-.388.12a9.72 9.72 0 0 1-2.85.424c-4.96 0-8.99-3.706-8.99-8.262 0-4.556 4.03-8.263 8.99-8.263 4.95 0 8.77 3.71 8.77 8.27 0 2.25-.75 4.35-2.5 5.92l-.24.21v.32c0 .07 0 .19.02.37.03.29.1.6.19.92.19.7.49 1.4.89 2.08-.93-.14-1.83-.49-2.67-1.06-.34-.22-.88-.48-1.16-.74z"/></svg></span></button><button class="button button--chromeless u-baseColor--buttonNormal"  data-action="scroll-to-responses">1</button><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon u-xs-hide"  title="Share on Twitter" aria-label="Share on Twitter" data-action="share-on-twitter" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--twitter svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M21.967 11.8c.018 5.93-4.607 11.18-11.177 11.18-2.172 0-4.25-.62-6.047-1.76l-.268.422-.038.5.186.013.168.012c.3.02.44.032.6.046 2.06-.026 3.95-.686 5.49-1.86l1.12-.85-1.4-.048c-1.57-.055-2.92-1.08-3.36-2.51l-.48.146-.05.5c.22.03.48.05.75.08.48-.02.87-.07 1.25-.15l2.33-.49-2.32-.49c-1.68-.35-2.91-1.83-2.91-3.55 0-.05 0-.01-.01.03l-.49-.1-.25.44c.63.36 1.35.57 2.07.58l1.7.04L7.4 13c-.978-.662-1.59-1.79-1.618-3.047a4.08 4.08 0 0 1 .524-1.8l-.825.07a12.188 12.188 0 0 0 8.81 4.515l.59.033-.06-.59v-.02c-.05-.43-.06-.63-.06-.87a3.617 3.617 0 0 1 6.27-2.45l.2.21.28-.06c1.01-.22 1.94-.59 2.73-1.09l-.75-.56c-.1.36-.04.89.12 1.36.23.68.58 1.13 1.17.85l-.21-.45-.42-.27c-.52.8-1.17 1.48-1.92 2L22 11l.016.28c.013.2.014.35 0 .52v.04zm.998.038c.018-.22.017-.417 0-.66l-.498.034.284.41a8.183 8.183 0 0 0 2.2-2.267l.97-1.48-1.6.755c.17-.08.3-.02.34.03a.914.914 0 0 1-.13-.292c-.1-.297-.13-.64-.1-.766l.36-1.254-1.1.695c-.69.438-1.51.764-2.41.963l.48.15a4.574 4.574 0 0 0-3.38-1.484 4.616 4.616 0 0 0-4.61 4.613c0 .29.02.51.08.984l.01.02.5-.06.03-.5c-3.17-.18-6.1-1.7-8.08-4.15l-.48-.56-.36.64c-.39.69-.62 1.48-.65 2.28.04 1.61.81 3.04 2.06 3.88l.3-.92c-.55-.02-1.11-.17-1.6-.45l-.59-.34-.14.67c-.02.08-.02.16 0 .24-.01 2.12 1.55 4.01 3.69 4.46l.1-.49-.1-.49c-.33.07-.67.12-1.03.14-.18-.02-.43-.05-.64-.07l-.76-.09.23.73c.57 1.84 2.29 3.14 4.28 3.21l-.28-.89a8.252 8.252 0 0 1-4.85 1.66c-.12-.01-.26-.02-.56-.05l-.17-.01-.18-.01L2.53 21l1.694 1.07a12.233 12.233 0 0 0 6.58 1.917c7.156 0 12.2-5.73 12.18-12.18l-.002.04z"/></svg></span></button><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon u-xs-hide"  title="Share on Facebook" aria-label="Share on Facebook" data-action="share-on-facebook" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--facebook svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M16.39 23.61v-5.808h1.846a.55.55 0 0 0 .546-.48l.36-2.797a.551.551 0 0 0-.547-.62H16.39V12.67c0-.67.12-.813.828-.813h1.474a.55.55 0 0 0 .55-.55V8.803a.55.55 0 0 0-.477-.545c-.436-.06-1.36-.116-2.22-.116-2.5 0-4.13 1.62-4.13 4.248v1.513H10.56a.551.551 0 0 0-.55.55v2.797c0 .304.248.55.55.55h1.855v5.76c-4.172-.96-7.215-4.7-7.215-9.1 0-5.17 4.17-9.36 9.31-9.36 5.14 0 9.31 4.19 9.31 9.36 0 4.48-3.155 8.27-7.43 9.15M14.51 4C8.76 4 4.1 8.684 4.1 14.46c0 5.162 3.75 9.523 8.778 10.32a.55.55 0 0 0 .637-.543v-6.985a.551.551 0 0 0-.55-.55H11.11v-1.697h1.855a.55.55 0 0 0 .55-.55v-2.063c0-2.02 1.136-3.148 3.03-3.148.567 0 1.156.027 1.597.06v1.453h-.924c-1.363 0-1.93.675-1.93 1.912v1.78c0 .3.247.55.55.55h2.132l-.218 1.69H15.84c-.305 0-.55.24-.55.55v7.02c0 .33.293.59.623.54 5.135-.7 9.007-5.11 9.007-10.36C24.92 8.68 20.26 4 14.51 4"/></svg></span></button><button class="button button--large button--dark button--chromeless u-baseColor--buttonDark button--withIcon button--withSvgIcon u-xs-show"  title="Share this story on Twitter or Facebook" aria-label="Share this story on Twitter or Facebook" data-action="show-share-popover" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--share svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M20.385 8H19a.5.5 0 1 0 .011 1h1.39c.43 0 .84.168 1.14.473.31.305.48.71.48 1.142v10.77c0 .43-.17.837-.47 1.142-.3.305-.71.473-1.14.473H8.62c-.43 0-.84-.168-1.144-.473a1.603 1.603 0 0 1-.473-1.142v-10.77c0-.43.17-.837.48-1.142A1.599 1.599 0 0 1 8.62 9H10a.502.502 0 0 0 0-1H8.615c-.67 0-1.338.255-1.85.766-.51.51-.765 1.18-.765 1.85v10.77c0 .668.255 1.337.766 1.848.51.51 1.18.766 1.85.766h11.77c.668 0 1.337-.255 1.848-.766.51-.51.766-1.18.766-1.85v-10.77c0-.668-.255-1.337-.766-1.848A2.61 2.61 0 0 0 20.384 8zm-8.67-2.508L14 3.207v8.362c0 .27.224.5.5.5s.5-.23.5-.5V3.2l2.285 2.285a.49.49 0 0 0 .704-.001.511.511 0 0 0 0-.708l-3.14-3.14a.504.504 0 0 0-.71 0L11 4.776a.501.501 0 0 0 .71.706" fill-rule="evenodd"/></svg></span></button></div></div></div></div><div class="u-maxWidth740 u-paddingTop20 u-marginTop20 u-borderTopLightest container u-paddingBottom20 u-xs-paddingBottom10 js-postAttributionFooterContainer"><div class="row js-postFooterInfo"><div class="col u-size12of12"><li class="uiScale uiScale-ui--small uiScale-caption--regular u-block u-paddingBottom18 js-cardUser"><div class="u-marginLeft20 u-floatRight"><span class="followState js-followState" data-user-id="60e881a91384"><button class="button button--small u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton"  data-action="sign-up-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-redirect="https://medium.com/@cgrant/developing-a-simple-crud-api-with-go-gin-and-gorm-df87d98e6ed1" data-action-source="footer_card"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary button--small u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton"  data-action="sign-up-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/60e881a91384" data-action-source="footer_card-60e881a91384-------------------------follow_footer"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></div><div class="u-tableCell"><a class="link u-baseColor--link avatar"   href="https://medium.com/@cgrant?source=footer_card" title="Go to the profile of Christopher Grant" aria-label="Go to the profile of Christopher Grant" data-action-source="footer_card" data-user-id="60e881a91384" dir="auto"><img  src="https://cdn-images-1.medium.com/fit/c/120/120/1*rJJEH89K35lacZgQh-UySw.png" class="avatar-image avatar-image--small" alt="Go to the profile of Christopher Grant"></a></div><div class="u-tableCell u-verticalAlignMiddle u-breakWord u-paddingLeft15"><h3 class="ui-h3 u-fontSize18 u-lineHeightTighter u-marginBottom4"><a class="link link--primary u-accentColor--hoverTextNormal"   href="https://medium.com/@cgrant" property="cc:attributionName" title="Go to the profile of Christopher Grant" aria-label="Go to the profile of Christopher Grant" rel="author cc:attributionUrl" data-user-id="60e881a91384" dir="auto">Christopher Grant</a></h3><p class="ui-body u-fontSize14 u-lineHeightBaseSans u-textColorDark u-marginBottom4">Sr. Email Reader &amp; Slide Deck Creator</p></div></li></div></div></div><div class="js-postFooterPlacements"></div><div class="u-padding0 u-clearfix u-backgroundGrayLightest u-print-hide supplementalPostContent js-responsesWrapper"></div><div class="supplementalPostContent js-heroPromo"></div></footer></article></main><div class="u-marginAuto u-maxWidth1000"><div class="js-postShareWidget u-foreground u-sm-hide u-transition--fadeOut300 u-fixed"><ul><li class="u-textAlignCenter u-marginVertical10"><div class="multirecommend js-actionMultirecommend u-flexColumn u-marginBottom10 u-width60" data-post-id="df87d98e6ed1" data-is-icon-29px="true" data-is-vertical="true" data-is-circle="true" data-has-recommend-list="true" data-source="post_share_widget-----df87d98e6ed1---------------------clap_sidebar"><div class="u-relative u-foreground"><button class="button button--large button--circle button--withChrome u-baseColor--buttonNormal button--withIcon button--withSvgIcon clapButton js-actionMultirecommendButton clapButton--largePill u-relative u-foreground u-xs-paddingLeft13 u-width60 u-height60 u-accentColor--textNormal u-accentColor--buttonNormal"  data-action="sign-up-prompt" data-sign-in-action="multivote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/df87d98e6ed1" data-action-source="post_share_widget-----df87d98e6ed1---------------------clap_sidebar" aria-label="Clap"><span class="button-defaultState"><span class="svgIcon svgIcon--clap svgIcon--33px u-relative u-topNegative2 u-xs-top0"><svg class="svgIcon-use" width="33" height="33" viewBox="0 0 33 33" ><path d="M28.86 17.342l-3.64-6.402c-.292-.433-.712-.729-1.163-.8a1.124 1.124 0 0 0-.889.213c-.63.488-.742 1.181-.33 2.061l1.222 2.587 1.4 2.46c2.234 4.085 1.511 8.007-2.145 11.663-.26.26-.526.49-.797.707 1.42-.084 2.881-.683 4.292-2.094 3.822-3.823 3.565-7.876 2.05-10.395zm-6.252 11.075c3.352-3.35 3.998-6.775 1.978-10.469l-3.378-5.945c-.292-.432-.712-.728-1.163-.8a1.122 1.122 0 0 0-.89.213c-.63.49-.742 1.182-.33 2.061l1.72 3.638a.502.502 0 0 1-.806.568l-8.91-8.91a1.335 1.335 0 0 0-1.887 1.886l5.292 5.292a.5.5 0 0 1-.707.707l-5.292-5.292-1.492-1.492c-.503-.503-1.382-.505-1.887 0a1.337 1.337 0 0 0 0 1.886l1.493 1.492 5.292 5.292a.499.499 0 0 1-.353.854.5.5 0 0 1-.354-.147L5.642 13.96a1.338 1.338 0 0 0-1.887 0 1.338 1.338 0 0 0 0 1.887l2.23 2.228 3.322 3.324a.499.499 0 0 1-.353.853.502.502 0 0 1-.354-.146l-3.323-3.324a1.333 1.333 0 0 0-1.886 0 1.325 1.325 0 0 0-.39.943c0 .356.138.691.39.943l6.396 6.397c3.528 3.53 8.86 5.313 12.821 1.353zM12.73 9.26l5.68 5.68-.49-1.037c-.518-1.107-.426-2.13.224-2.89l-3.303-3.304a1.337 1.337 0 0 0-1.886 0 1.326 1.326 0 0 0-.39.944c0 .217.067.42.165.607zm14.787 19.184c-1.599 1.6-3.417 2.392-5.353 2.392-.349 0-.7-.03-1.058-.082a7.922 7.922 0 0 1-3.667.887c-3.049 0-6.115-1.626-8.359-3.87l-6.396-6.397A2.315 2.315 0 0 1 2 19.724a2.327 2.327 0 0 1 1.923-2.296l-.875-.875a2.339 2.339 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.647l-.139-.139c-.91-.91-.91-2.39 0-3.3.884-.884 2.421-.882 3.301 0l.138.14a2.335 2.335 0 0 1 3.948-1.24l.093.092c.091-.423.291-.828.62-1.157a2.336 2.336 0 0 1 3.3 0l3.384 3.386a2.167 2.167 0 0 1 1.271-.173c.534.086 1.03.354 1.441.765.11-.549.415-1.034.911-1.418a2.12 2.12 0 0 1 1.661-.41c.727.117 1.385.565 1.853 1.262l3.652 6.423c1.704 2.832 2.025 7.377-2.205 11.607zM13.217.484l-1.917.882 2.37 2.837-.454-3.719zm8.487.877l-1.928-.86-.44 3.697 2.368-2.837zM16.5 3.293L15.478-.005h2.044L16.5 3.293z" fill-rule="evenodd"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--clapFilled svgIcon--33px u-relative u-topNegative2 u-xs-top0"><svg class="svgIcon-use" width="33" height="33" viewBox="0 0 33 33" ><g fill-rule="evenodd"><path d="M29.58 17.1l-3.854-6.78c-.365-.543-.876-.899-1.431-.989a1.491 1.491 0 0 0-1.16.281c-.42.327-.65.736-.7 1.207v.001l3.623 6.367c2.46 4.498 1.67 8.802-2.333 12.807-.265.265-.536.505-.81.728 1.973-.222 3.474-1.286 4.45-2.263 4.166-4.165 3.875-8.6 2.215-11.36zm-4.831.82l-3.581-6.3c-.296-.439-.725-.742-1.183-.815a1.105 1.105 0 0 0-.89.213c-.647.502-.755 1.188-.33 2.098l1.825 3.858a.601.601 0 0 1-.197.747.596.596 0 0 1-.77-.067L10.178 8.21c-.508-.506-1.393-.506-1.901 0a1.335 1.335 0 0 0-.393.95c0 .36.139.698.393.95v.001l5.61 5.61a.599.599 0 1 1-.848.847l-5.606-5.606c-.001 0-.002 0-.003-.002L5.848 9.375a1.349 1.349 0 0 0-1.902 0 1.348 1.348 0 0 0 0 1.901l1.582 1.582 5.61 5.61a.6.6 0 0 1-.848.848l-5.61-5.61c-.51-.508-1.393-.508-1.9 0a1.332 1.332 0 0 0-.394.95c0 .36.139.697.393.952l2.363 2.362c.002.001.002.002.002.003l3.52 3.52a.6.6 0 0 1-.848.847l-3.522-3.523h-.001a1.336 1.336 0 0 0-.95-.393 1.345 1.345 0 0 0-.949 2.295l6.779 6.78c3.715 3.713 9.327 5.598 13.49 1.434 3.527-3.528 4.21-7.13 2.086-11.015zM11.817 7.727c.06-.328.213-.64.466-.893.64-.64 1.755-.64 2.396 0l3.232 3.232c-.82.783-1.09 1.833-.764 2.992l-5.33-5.33z"/><path d="M13.285.48l-1.916.881 2.37 2.837z"/><path d="M21.719 1.361L19.79.501l-.44 3.697z"/><path d="M16.502 3.298L15.481 0h2.043z"/></g></svg></span></span></button><div class="clapUndo u-width60 u-round u-height32 u-absolute u-borderBox u-paddingRight5 u-transition--transform200Spring u-background--brandSageLighter js-clapUndo" style="top: 14px; padding: 2px;"><button class="button button--chromeless u-baseColor--buttonNormal button--withIcon button--withSvgIcon u-floatRight"  data-action="multivote-undo" data-action-value="df87d98e6ed1"><span class="svgIcon svgIcon--removeThin svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M20.13 8.11l-5.61 5.61-5.609-5.61-.801.801 5.61 5.61-5.61 5.61.801.8 5.61-5.609 5.61 5.61.8-.801-5.609-5.61 5.61-5.61" fill-rule="evenodd"/></svg></span></button></div></div><span class="u-textAlignCenter u-relative u-background js-actionMultirecommendCount u-flexOrderNegative1 u-height20 u-marginBottom7"><button class="button button--chromeless u-baseColor--buttonNormal js-multirecommendCountButton u-block u-marginAuto"  data-action="show-recommends" data-action-value="df87d98e6ed1">159</button></span></div></li><li class="u-textAlignCenter u-marginVertical10"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  title="Share on Twitter" aria-label="Share on Twitter" data-action="share-on-twitter" data-action-source="post_share_widget"><span class="svgIcon svgIcon--twitter svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M21.967 11.8c.018 5.93-4.607 11.18-11.177 11.18-2.172 0-4.25-.62-6.047-1.76l-.268.422-.038.5.186.013.168.012c.3.02.44.032.6.046 2.06-.026 3.95-.686 5.49-1.86l1.12-.85-1.4-.048c-1.57-.055-2.92-1.08-3.36-2.51l-.48.146-.05.5c.22.03.48.05.75.08.48-.02.87-.07 1.25-.15l2.33-.49-2.32-.49c-1.68-.35-2.91-1.83-2.91-3.55 0-.05 0-.01-.01.03l-.49-.1-.25.44c.63.36 1.35.57 2.07.58l1.7.04L7.4 13c-.978-.662-1.59-1.79-1.618-3.047a4.08 4.08 0 0 1 .524-1.8l-.825.07a12.188 12.188 0 0 0 8.81 4.515l.59.033-.06-.59v-.02c-.05-.43-.06-.63-.06-.87a3.617 3.617 0 0 1 6.27-2.45l.2.21.28-.06c1.01-.22 1.94-.59 2.73-1.09l-.75-.56c-.1.36-.04.89.12 1.36.23.68.58 1.13 1.17.85l-.21-.45-.42-.27c-.52.8-1.17 1.48-1.92 2L22 11l.016.28c.013.2.014.35 0 .52v.04zm.998.038c.018-.22.017-.417 0-.66l-.498.034.284.41a8.183 8.183 0 0 0 2.2-2.267l.97-1.48-1.6.755c.17-.08.3-.02.34.03a.914.914 0 0 1-.13-.292c-.1-.297-.13-.64-.1-.766l.36-1.254-1.1.695c-.69.438-1.51.764-2.41.963l.48.15a4.574 4.574 0 0 0-3.38-1.484 4.616 4.616 0 0 0-4.61 4.613c0 .29.02.51.08.984l.01.02.5-.06.03-.5c-3.17-.18-6.1-1.7-8.08-4.15l-.48-.56-.36.64c-.39.69-.62 1.48-.65 2.28.04 1.61.81 3.04 2.06 3.88l.3-.92c-.55-.02-1.11-.17-1.6-.45l-.59-.34-.14.67c-.02.08-.02.16 0 .24-.01 2.12 1.55 4.01 3.69 4.46l.1-.49-.1-.49c-.33.07-.67.12-1.03.14-.18-.02-.43-.05-.64-.07l-.76-.09.23.73c.57 1.84 2.29 3.14 4.28 3.21l-.28-.89a8.252 8.252 0 0 1-4.85 1.66c-.12-.01-.26-.02-.56-.05l-.17-.01-.18-.01L2.53 21l1.694 1.07a12.233 12.233 0 0 0 6.58 1.917c7.156 0 12.2-5.73 12.18-12.18l-.002.04z"/></svg></span></button></li><li class="u-textAlignCenter u-marginVertical10"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  title="Share on Facebook" aria-label="Share on Facebook" data-action="share-on-facebook" data-action-source="post_share_widget"><span class="svgIcon svgIcon--facebook svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M16.39 23.61v-5.808h1.846a.55.55 0 0 0 .546-.48l.36-2.797a.551.551 0 0 0-.547-.62H16.39V12.67c0-.67.12-.813.828-.813h1.474a.55.55 0 0 0 .55-.55V8.803a.55.55 0 0 0-.477-.545c-.436-.06-1.36-.116-2.22-.116-2.5 0-4.13 1.62-4.13 4.248v1.513H10.56a.551.551 0 0 0-.55.55v2.797c0 .304.248.55.55.55h1.855v5.76c-4.172-.96-7.215-4.7-7.215-9.1 0-5.17 4.17-9.36 9.31-9.36 5.14 0 9.31 4.19 9.31 9.36 0 4.48-3.155 8.27-7.43 9.15M14.51 4C8.76 4 4.1 8.684 4.1 14.46c0 5.162 3.75 9.523 8.778 10.32a.55.55 0 0 0 .637-.543v-6.985a.551.551 0 0 0-.55-.55H11.11v-1.697h1.855a.55.55 0 0 0 .55-.55v-2.063c0-2.02 1.136-3.148 3.03-3.148.567 0 1.156.027 1.597.06v1.453h-.924c-1.363 0-1.93.675-1.93 1.912v1.78c0 .3.247.55.55.55h2.132l-.218 1.69H15.84c-.305 0-.55.24-.55.55v7.02c0 .33.293.59.623.54 5.135-.7 9.007-5.11 9.007-10.36C24.92 8.68 20.26 4 14.51 4"/></svg></span></button></li><li class="u-textAlignCenter u-marginVertical10"><button class="button button--large button--dark button--chromeless is-touchIconFadeInPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon button--bookmark js-bookmarkButton"  title="Bookmark this story to read later" aria-label="Bookmark this story to read later" data-action="sign-up-prompt" data-sign-in-action="add-to-bookmarks" data-requires-token="true" data-redirect="https://medium.com/_/bookmark/p/df87d98e6ed1" data-action-source="post_share_widget-----df87d98e6ed1---------------------bookmark_sidebar"><span class="button-defaultState"><span class="svgIcon svgIcon--bookmark svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4zM21 23l-5.91-3.955-.148-.107a.751.751 0 0 0-.884 0l-.147.107L8 23V6.615C8 5.725 8.725 5 9.615 5h9.77C20.275 5 21 5.725 21 6.615V23z" fill-rule="evenodd"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--bookmarkFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4z" fill-rule="evenodd"/></svg></span></span></button></li></ul></div></div><div class="u-fixed u-bottom0 u-sizeFullWidth u-backgroundWhite u-boxShadowTop u-borderBox u-paddingTop10 u-paddingBottom10 u-zIndexMetabar u-xs-paddingLeft10 u-xs-paddingRight10 js-stickyFooter"><div class="u-maxWidth700 u-marginAuto u-flexCenter"><div class="u-fontSize16 u-flex1 u-flexCenter"><div class="u-flex0 u-inlineBlock u-paddingRight20 u-xs-paddingRight10"><a class="link u-baseColor--link avatar u-inline"   href="https://medium.com/@cgrant" data-action="show-user-card" data-action-value="60e881a91384" data-action-type="hover" data-user-id="60e881a91384" dir="auto"><img  src="https://cdn-images-1.medium.com/fit/c/80/80/1*rJJEH89K35lacZgQh-UySw.png" class="avatar-image avatar-image--smaller" alt="Go to the profile of Christopher Grant"></a></div><div class="u-flex1 u-inlineBlock"><div class="u-xs-hide">Never miss a story from<strong> Christopher Grant</strong>, when you sign up for Medium. <a class="link u-baseColor--link link--accent u-accentColor--textNormal u-accentColor--textDarken"   href="https://medium.com/@Medium/personalize-your-medium-experience-with-users-publications-tags-26a41ab1ee0c#.hx4zuv3mg" data-action-source="sticky_footer">Learn more</a></div><div class="u-xs-show">Never miss a story from<strong> Christopher Grant</strong></div></div></div><div class="u-marginLeft50 u-xs-marginAuto"><span class="followState js-followState" data-user-id="60e881a91384"><button class="button u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton u-uiTextSemibold u-textUppercase u-fontSize12"  data-action="sign-up-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-redirect="https://medium.com/@cgrant/developing-a-simple-crud-api-with-go-gin-and-gorm-df87d98e6ed1" data-action-source="sticky_footer"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary is-active u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton u-uiTextSemibold u-textUppercase u-fontSize12"  data-action="sign-up-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/60e881a91384" data-action-source="sticky_footer-60e881a91384-------------------------follow_metabar"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Get updates</span></button></span></div></div></div></div></div></div><div class="loadingBar"></div><script>// <![CDATA[
window["obvInit"] = function (opt_embedded) {window["obvInit"]["embedded"] = opt_embedded; window["obvInit"]["ready"] = true;}
// ]]></script><script>// <![CDATA[
var GLOBALS = {"audioUrl":"https://d1fcbxp97j4nb2.cloudfront.net","baseUrl":"https://medium.com","buildLabel":"32775-60f8d96","currentUser":{"userId":"lo_r1jDa9FImcqS","isVerified":false,"subscriberEmail":"","hasPastMemberships":false,"isEnrolledInHightower":false,"isEligibleForHightower":false,"hightowerLastLockedAt":0},"currentUserHasUnverifiedEmail":false,"isAuthenticated":false,"isCurrentUserVerified":false,"language":"en-us","mediumTwitterScreenName":"medium","miroUrl":"https://cdn-images-1.medium.com","moduleUrls":{"base":"https://cdn-static-1.medium.com/_/fp/gen-js/main-base.bundle.TDQ-LhlzDZRvH6HBlmwIgw.js","common-async":"https://cdn-static-1.medium.com/_/fp/gen-js/main-common-async.bundle.JKV7yg-fzYjde23zN574_w.js","hightower":"https://cdn-static-1.medium.com/_/fp/gen-js/main-hightower.bundle.rClf1AS_CLilbICZiNL90Q.js","home-screens":"https://cdn-static-1.medium.com/_/fp/gen-js/main-home-screens.bundle.9i64ZvFWNkPpjP4BsFBaiQ.js","misc-screens":"https://cdn-static-1.medium.com/_/fp/gen-js/main-misc-screens.bundle.AcbbmvkPUq2QYJY6bp3RcA.js","notes":"https://cdn-static-1.medium.com/_/fp/gen-js/main-notes.bundle.vBhhnUUD5sbzaYl7e2YAfA.js","payments":"https://cdn-static-1.medium.com/_/fp/gen-js/main-payments.bundle.pP9pBDCnI9BSeI3aZTqB4Q.js","posters":"https://cdn-static-1.medium.com/_/fp/gen-js/main-posters.bundle.dclMY8fdGPoJH_gPxXG1JA.js","power-readers":"https://cdn-static-1.medium.com/_/fp/gen-js/main-power-readers.bundle.FQSNbWAUJeEX_1kEF643uQ.js","pubs":"https://cdn-static-1.medium.com/_/fp/gen-js/main-pubs.bundle.qA1ws12B8wKvxqetFT3atg.js","stats":"https://cdn-static-1.medium.com/_/fp/gen-js/main-stats.bundle.Bs4Ea7ScclBY41Aze16IfQ.js"},"previewConfig":{"weightThreshold":1,"weightImageParagraph":0.51,"weightIframeParagraph":0.8,"weightTextParagraph":0.08,"weightEmptyParagraph":0,"weightP":0.003,"weightH":0.005,"weightBq":0.003,"minPTextLength":60,"truncateBoundaryChars":20,"detectTitle":true,"detectTitleLevThreshold":0.15},"productName":"Medium","supportsEdit":true,"termsUrl":"//medium.com/policy/9db0094a1e0f","textshotHost":"textshot.medium.com","transactionId":"1519507544359:ff56af60db46","useragent":{"browser":"chrome","family":"chrome","os":"mac","version":64,"supportsDesktopEdit":true,"supportsInteract":true,"supportsView":true,"isMobile":false,"isTablet":false,"isNative":false,"supportsFileAPI":true,"isTier1":true,"clientVersion":"","unknownParagraphsBad":false,"clientChannel":"","supportsRealScrollEvents":true,"supportsVhUnits":true,"ruinsViewportSections":false,"supportsHtml5Video":true,"supportsMagicUnderlines":true,"isWebView":false,"isFacebookWebView":false,"supportsProgressiveMedia":true,"supportsPromotedPosts":true,"isBot":false,"isNativeIphone":false,"supportsCssVariables":true,"supportsVideoSections":true,"emojiSupportLevel":5,"isSearchBot":false,"supportsScrollableMetabar":true},"variants":{"allow_access":true,"allow_signup":true,"allow_test_auth":"disallow","signin_services":"twitter,facebook,google,email,google-fastidv","signup_services":"twitter,facebook,google,email,google-fastidv","android_rating_prompt_recommend_threshold":5,"google_sign_in_android":true,"reengagement_notification_duration":3,"browsable_stream_config_bucket":"curated-topics","enable_series_creation":true,"enable_your_series_pages":true,"enable_productionized_series":true,"enable_dedicated_series_tab_api_ios":true,"enable_clap_milestone_notifications":true,"enable_series_stats_page":true,"enable_post_import":true,"enable_sponsored_post_labelling":true,"enable_logged_in_follow_on_collection_post":true,"enable_export_members":true,"enable_series_card_background_creation":true,"available_monthly_plan":"60e220181034","available_annual_plan":"2c754bcc2995","enable_sms":true,"is_not_medium_subscriber":true,"disable_followed_tag_fan_out":true,"enable_glyph":true,"glyph_font_set":"m2","enable_branding":true,"enable_branding_fonts":true,"enable_branding_buttons":true,"enable_sequence_carousel":true,"enable_multirecommends":true,"enable_view_new_collection_writers_manager":true,"enable_post_monger_v2":true,"enable_user_post_metering":true,"max_premium_content_per_user_under_metering":3,"enable_topic_writer_onboarding":true,"enable_algolia_search_reporting":true,"enable_strong_graph_chp_reorder":true,"enable_unsplash_images":true,"enable_top_stories_for_you":true,"enable_ios_member_post_labeling":true,"enable_featured_hero":true,"enable_li_search_collection":true,"enable_audio_playlists":true,"enable_homepage_remodel":true,"enable_platform_934_loading":true,"enable_presented_count_in_email":true,"enable_signin_wall_custom_domain":true,"enable_standalone_profile_edit_page":true,"enable_standalone_user_follow_pages":true,"enable_post_footer_copy":true,"dd_add_popchunk_section":true,"app_download_email_template":"control","enable_bloomd_double_write":true,"enable_bloomd_sharding":true,"enable_hack_series_web":true,"enable_logged_in_payment_flow_upgrade_lp":true,"enable_digest_presentation_data_collection":true,"enable_digest_ui_revamp":true,"enable_elevate_sequence":true,"enable_infinite_ranked_feed":true,"enable_moc_insertion_digest":true,"enable_editors_picks_notifications":true,"days_since_last_opened_before_removing_editor_pick":14,"increase_editor_recs_6_days":5},"xsrfToken":"","iosAppId":"828256236","supportEmail":"yourfriends@medium.com","fp":{"/icons/monogram-mask.svg":"https://cdn-static-1.medium.com/_/fp/icons/monogram-mask.KPLCSFEZviQN0jQ7veN2RQ.svg","/icons/favicon-dev-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-dev-editor.YKKRxBO8EMvIqhyCwIiJeQ.ico","/icons/favicon-hatch-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-hatch-editor.BuEyHIqlyh2s_XEk4Rl32Q.ico","/icons/favicon-medium-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-medium-editor.PiakrZWB7Yb80quUVQWM6g.ico"},"authBaseUrl":"https://medium.com","imageUploadSizeMb":25,"isAuthDomainRequest":true,"algoliaApiEndpoint":"https://MQ57UUUQZ2-dsn.algolia.net","algoliaAppId":"MQ57UUUQZ2","algoliaSearchOnlyApiKey":"394474ced050e3911ae2249ecc774921","iosAppStoreUrl":"https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8","iosAppLinkBaseUrl":"medium:","algoliaIndexPrefix":"medium_","androidPlayStoreUrl":"https://play.google.com/store/apps/details?id=com.medium.reader","googleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","androidPackage":"com.medium.reader","androidPlayStoreMarketScheme":"market://details?id=com.medium.reader","googleAuthUri":"https://accounts.google.com/o/oauth2/auth","androidScheme":"medium","layoutData":{"useDynamicScripts":false,"googleAnalyticsTrackingCode":"UA-24232453-2","jsShivUrl":"https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js","useDynamicCss":false,"faviconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium.3Y6xpZ-0FSdWDnPM3hSBIA.ico","faviconImageId":"1*8I-HPL0bfoIzGied-dzOvA.png","fontSets":[{"id":8,"url":"https://glyph.medium.com/css/e/sr/latin/e/ssr/latin/e/ssb/latin/m2.css"},{"id":9,"url":"https://glyph.medium.com/css/mkt.css"},{"id":10,"url":"https://glyph.medium.com/css/elv8.css"}],"editorFaviconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium-editor.3Y6xpZ-0FSdWDnPM3hSBIA.ico","glyphUrl":"https://glyph.medium.com"},"authBaseUrlRev":"moc.muidem//:sptth","isDnt":false,"stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl","archiveUploadSizeMb":100,"paymentData":{"currencies":{"1":{"label":"US Dollar","external":"usd"}},"countries":{"1":{"label":"United States of America","external":"US"}},"accountTypes":{"1":{"label":"Individual","external":"individual"},"2":{"label":"Company","external":"company"}}},"previewConfig2":{"weightThreshold":1,"weightImageParagraph":0.05,"raiseImage":true,"enforceHeaderHierarchy":true,"isImageInsetRight":true},"isAmp":false,"iosScheme":"medium","isSwBoot":false,"lightstep":{"accessToken":"ce5be895bef60919541332990ac9fef2","carrier":"{\"ot-tracer-spanid\":\"65e03ea52afdae9f\",\"ot-tracer-traceid\":\"4bb6dfe401d84209\",\"ot-tracer-sampled\":\"true\"}","host":"collector-medium.lightstep.com"},"facebook":{"key":"542599432471018","namespace":"medium-com","scope":{"default":["public_profile","email","user_friends"],"connect":["public_profile","email","user_friends"],"login":["public_profile","email","user_friends"],"share":["public_profile","email","user_friends","publish_actions"]}},"mailingListArchiveUploadSizeMb":2,"editorsPicksTopicId":"3985d2a191c5","popularOnMediumTopicId":"9d34e48ecf94","memberContentTopicId":"13d7efd82fb2","audioContentTopicId":"3792abbd134","brandedSequenceId":"7d337ddf1941","isDoNotAuth":false,"goldfinchUrl":"https://goldfinch.medium.com","buggle":{"url":"https://buggle.medium.com","videoUrl":"https://cdn-videos-1.medium.com","audioUrl":"https://cdn-audio-1.medium.com"},"referrerType":5,"isMeteredOut":false,"meterConfig":{"maxUnlockCount":3,"windowLength":"MONTHLY"},"partnerProgramEmail":"partnerprogram@medium.com","userResearchPrompts":[{"promptId":"lo_post_page_4","type":0,"url":"www.calendly.com"},{"promptId":"lo_home_page","type":1,"url":"www.calendly.com"},{"promptId":"lo_profile_page","type":2,"url":"www.calendly.com"}],"recaptchaKey":"6LdAokEUAAAAAC7seICd4vtC8chDb3jIXDQulyUJ","paypalClientMode":"production","signinWallCustomDomainCollectionIds":["3a8144eabfe3"]}
// ]]></script><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/gen-js/main-base.bundle.TDQ-LhlzDZRvH6HBlmwIgw.js" async></script><script>// <![CDATA[
window["obvInit"]({"value":{"id":"df87d98e6ed1","versionId":"dba201e52345","creatorId":"60e881a91384","creator":{"userId":"60e881a91384","name":"Christopher Grant","username":"cgrant","createdAt":1472240732644,"lastPostCreatedAt":1519078992679,"imageId":"1*rJJEH89K35lacZgQh-UySw.png","backgroundImageId":"","bio":"Sr. Email Reader & Slide Deck Creator","twitterScreenName":"cgrant","socialStats":{"userId":"60e881a91384","usersFollowedCount":55,"usersFollowedByCount":107,"type":"SocialStats"},"social":{"userId":"lo_r1jDa9FImcqS","targetUserId":"60e881a91384","type":"Social"},"facebookAccountId":"10209476189997703","allowNotes":1,"isNsfw":false,"type":"User"},"homeCollectionId":"","title":"Developing a simple CRUD API with Go, Gin and Gorm","detectedLanguage":"en","latestVersion":"dba201e52345","latestPublishedVersion":"dba201e52345","hasUnpublishedEdits":false,"latestRev":952,"createdAt":1480728976049,"updatedAt":1519374580624,"acceptedAt":0,"firstPublishedAt":1480730195338,"latestPublishedAt":1496331505083,"vote":false,"experimentalCss":"","displayAuthor":"","content":{"subtitle":"Introduction","bodyModel":{"paragraphs":[{"name":"25cb","type":3,"text":"Developing a simple CRUD API with Go, Gin and Gorm","markups":[]},{"name":"ce6b","type":3,"text":"Introduction","markups":[]},{"name":"b4e8","type":1,"text":"Golang is an exciting language but newcomers can be overwhelmed by the new semantics and variety of frameworks available. Getting started with the basics can feel like a challenge.","markups":[]},{"name":"3339","type":1,"text":"In this example I wanted to show the most minimal set of code needed to create a functional api. We’ll develop a simple API that provides Create, Read, Update, and Delete (CRUD) functions for a basic model. Using and Object Relationship Mapping (ORM) tool we’ll be able to quickly update our data model with new fields all under 100 lines of code. So let’s get started.","markups":[]},{"name":"edfa","type":1,"text":"The final code for this walk through can be found at https://github.com/cgrant/gin-gorm-api-example","markups":[{"type":3,"start":53,"end":99,"href":"https://github.com/cgrant/gin-gorm-api-example","title":"","rel":"nofollow","anchorType":0}]},{"name":"8eb7","type":3,"text":"Getting Started","markups":[]},{"name":"9cbf","type":1,"text":"This example assumes you already have Go installed and running. If you still need to get setup, head over to http://cgrant.io/tutorials/go/getting-started-with-go/ for a quick primer.","markups":[{"type":3,"start":109,"end":163,"href":"http://cgrant.io/tutorials/go/getting-started-with-go/","title":"","rel":"nofollow","anchorType":0}]},{"name":"3249","type":3,"text":"Web Framework with Gin","markups":[]},{"name":"ee16","type":1,"text":"Since we’ll be serving our API over HTTP we’ll need a web framework to handle routing and serving the requests. There are many frameworks available with different features and performance gains. For this example we’ll be using the Gin Web Framework https://github.com/gin-gonic/gin . Gin is a nice framework for API development due to it’s speed and simplicity.","markups":[{"type":3,"start":249,"end":281,"href":"https://github.com/gin-gonic/gin","title":"","rel":"nofollow","anchorType":0}]},{"name":"ae5b","type":1,"text":"To start, let’s create a new folder for our service at $GOPATH/src/simple-api and add a main.go file as follows","markups":[]},{"name":"31fb","type":8,"text":"package main","markups":[]},{"name":"af14","type":8,"text":"import “fmt”","markups":[]},{"name":"0b7b","type":8,"text":"func main() {\n fmt.Println(“Hello World”)\n}","markups":[]},{"name":"9a0a","type":1,"text":"Before we go too far let’s test it out to ensure everything is running correctly.","markups":[]},{"name":"da7a","type":8,"text":"$ go run main.go\nHello World","markups":[]},{"name":"38d8","type":1,"text":"Perfect we’re all set. Now let’s use the Gin Framework to make that into a web application.","markups":[]},{"name":"8f5d","type":8,"text":"package main","markups":[]},{"name":"f041","type":8,"text":"import “github.com/gin-gonic/gin”","markups":[]},{"name":"bd1d","type":8,"text":"func main() {\n r := gin.Default()\n r.GET(“/”, func(c *gin.Context) {\n c.String(200, “Hello World”)\n })\n r.Run() \n}","markups":[]},{"name":"bd7a","type":1,"text":"Save and run it","markups":[]},{"name":"8841","type":8,"text":"$ go run main.go\n[GIN-debug] [WARNING] Running in “debug” mode. Switch to “release” mode in production.\n — using env: export GIN_MODE=release\n — using code: gin.SetMode(gin.ReleaseMode)","markups":[]},{"name":"9444","type":8,"text":"[GIN-debug] GET / → main.main.func1 (3 handlers)\n[GIN-debug] Environment variable PORT is undefined. Using port :8080 by default\n[GIN-debug] Listening and serving HTTP on :8080\n[GIN] 2016/12/02–14:57:52 | 200 | 33.798µs | ::1 | GET /","markups":[]},{"name":"4003","type":1,"text":"Then browse over to http://localhost:8080","markups":[{"type":3,"start":20,"end":41,"href":"http://localhost:8080","title":"","rel":"nofollow","anchorType":0}]},{"name":"6fc9","type":8,"text":"\nHello World\n","markups":[]},{"name":"9adb","type":1,"text":"Success!!!","markups":[]},{"name":"24d8","type":1,"text":"We’re building an API though not a web app so let’s switch that to a JSON response","markups":[]},{"name":"b016","type":8,"text":"package main","markups":[]},{"name":"7728","type":8,"text":"import “github.com/gin-gonic/gin”","markups":[]},{"name":"e2b0","type":8,"text":"func main() {\n r := gin.Default()\n r.GET(“/”, func(c *gin.Context) {\n c.JSON(200, gin.H{\n “message”: “Hello World”,\n })\n })\n r.Run() // listen and server on 0.0.0.0:8080\n}","markups":[{"type":1,"start":70,"end":119}]},{"name":"001b","type":1,"text":"Save file, rerun your server and refresh your browser, you should see our message as JSON\n{“message”: “Hello World”}","markups":[{"type":1,"start":90,"end":116},{"type":2,"start":90,"end":116}]},{"name":"8c2f","type":3,"text":"Data Persistence with GORM","markups":[]},{"name":"01aa","type":1,"text":"Now let’s take a look at our persistence layer. For this section we’re going to start with a local SQLite file based Database you can use locally. Later we’ll switch this to use a MySql to demonstrate that as well.","markups":[]},{"name":"9ff7","type":1,"text":"Gorm http://jinzhu.me/gorm/ is a Object-relational mapping (ORM) framework for go. It significantly simplifies the mapping and persistence of models to the database. While I’m not a huge fan of ORMs for large complex systems, they do work well for prototyping new greenfield applications. Gorm is a popular tool for this in the Go space and we’ll take a look at it here.","markups":[{"type":3,"start":5,"end":27,"href":"http://jinzhu.me/gorm/","title":"","rel":"nofollow","anchorType":0}]},{"name":"6b71","type":1,"text":"To walk through gorm we’re going to swap out the Gin code we just wrote, and demonstrate gorm capabilities for a bit. Once we’ve walked through the key elements we’ll add Gin back into the app.","markups":[]},{"name":"853a","type":1,"text":"Let’s get started with a small example.","markups":[]},{"name":"4bad","type":8,"text":"package main","markups":[]},{"name":"fa99","type":8,"text":"import (\n “github.com/jinzhu/gorm”\n _ “github.com/jinzhu/gorm/dialects/sqlite”\n)","markups":[]},{"name":"2433","type":8,"text":"func main() {\n db, _ := gorm.Open(“sqlite3”, “./gorm.db”)\n defer db.Close()","markups":[]},{"name":"59b9","type":8,"text":"}","markups":[]},{"name":"eab9","type":1,"text":"If you run this right now you’ll see a new file show up in your file system called gorm.db. This is our database file the system will use in the app. While we can see that our app runs, and gorm is getting used, our system isn’t doing much yet. Lets add some more code.","markups":[]},{"name":"139e","type":8,"text":"package main","markups":[]},{"name":"934e","type":8,"text":"import (\n “fmt”","markups":[]},{"name":"c623","type":8,"text":"“github.com/jinzhu/gorm”\n _ “github.com/jinzhu/gorm/dialects/sqlite”\n)","markups":[]},{"name":"ba06","type":8,"text":"type Person struct {\n ID uint `json:”id”`\n FirstName string `json:”firstname”`\n LastName string `json:”lastname”`\n}","markups":[{"type":1,"start":0,"end":115}]},{"name":"92ae","type":8,"text":"func main() {\n db, _ := gorm.Open(“sqlite3”, “./gorm.db”)\n defer db.Close()","markups":[]},{"name":"df98","type":8,"text":" p1 := Person{FirstName: “John”, LastName: “Doe”}\n p2 := Person{FirstName: “Jane”, LastName: “Smith”}","markups":[{"type":1,"start":0,"end":101}]},{"name":"d125","type":8,"text":" fmt.Println(p1.FirstName)\n fmt.Println(p2.LastName)","markups":[{"type":1,"start":0,"end":52}]},{"name":"a97e","type":8,"text":"}","markups":[]},{"name":"08c1","type":1,"text":"Here we’ve just added a simple Person struct and created a couple instances before using them to print out the values. Remember the fields on the Person struct need to start with a capital letter, as this is how Go understands these are public fields.","markups":[]},{"name":"5d22","type":1,"text":"Now that we’ve got an object to work with let’s use Gorm.","markups":[]},{"name":"a16c","type":8,"text":"package main","markups":[]},{"name":"78b1","type":8,"text":"import (\n “fmt”","markups":[]},{"name":"c6c4","type":8,"text":"“github.com/jinzhu/gorm”\n _ “github.com/jinzhu/gorm/dialects/sqlite”\n)","markups":[]},{"name":"78a4","type":8,"text":"type Person struct {\n ID uint `json:”id”`\n FirstName string `json:”firstname”`\n LastName string `json:”lastname”`\n}","markups":[]},{"name":"e9b5","type":8,"text":"func main() {\n db, _ := gorm.Open(“sqlite3”, “./gorm.db”)\n defer db.Close()","markups":[]},{"name":"0438","type":8,"text":" db.AutoMigrate(&Person{})","markups":[{"type":1,"start":0,"end":26}]},{"name":"fe53","type":8,"text":" p1 := Person{FirstName: “John”, LastName: “Doe”}\n p2 := Person{FirstName: “Jane”, LastName: “Smith”}","markups":[]},{"name":"2676","type":8,"text":" db.Create(&p1)\n var p3 Person // identify a Person type for us to store the results in\n db.First(&p3) // Find the first record in the Database and store it in p3","markups":[{"type":1,"start":1,"end":15},{"type":1,"start":17,"end":31},{"type":1,"start":89,"end":102}]},{"name":"8dd1","type":8,"text":" fmt.Println(p1.FirstName)\n fmt.Println(p2.LastName)\n fmt.Println(p3.LastName) // print out our record from the database","markups":[{"type":1,"start":54,"end":78}]},{"name":"3ee3","type":8,"text":"}","markups":[]},{"name":"6879","type":1,"text":"Great now let’s run it and see what we’ve got","markups":[]},{"name":"0644","type":8,"text":"\n$ go run main.go\nJohn\nSmith\nDoe","markups":[]},{"name":"bbd1","type":1,"text":"Wow that was pretty easy. Just a few lines of code and we’re able to save and retrieve from a database. Gorm has a lot more options on how to store, and query on their site. We’ll get into a couple core pieces next, but do check out their docs for more options","markups":[]},{"name":"6ef7","type":3,"text":"Making the API","markups":[]},{"name":"2734","type":1,"text":"We’ve reviewed how the frameworks function independently. Now it’s time to pull everything together into a usable API","markups":[]},{"name":"30f1","type":13,"text":"Read All","markups":[]},{"name":"7e14","type":1,"text":"Let’s start with the Read portion of CRUD, by querying the data we added earlier. I’m going to remove a few of the lines we just went through and add back in the Gin framework with a new route to query our DB.","markups":[]},{"name":"6a0e","type":8,"text":"package main","markups":[]},{"name":"4239","type":8,"text":"import (\n “fmt”","markups":[]},{"name":"5f1a","type":8,"text":" “github.com/gin-gonic/gin”\n “github.com/jinzhu/gorm”\n _ “github.com/jinzhu/gorm/dialects/sqlite”\n)","markups":[]},{"name":"d8c0","type":8,"text":"var db *gorm.DB\nvar err error","markups":[]},{"name":"b5d2","type":8,"text":"type Person struct {\n ID uint `json:”id”`\n FirstName string `json:”firstname”`\n LastName string `json:”lastname”`\n}","markups":[]},{"name":"53a2","type":8,"text":"func main() {","markups":[]},{"name":"9060","type":8,"text":" // NOTE: See we’re using = to assign the global var\n // instead of := which would assign it only in this function\n db, err = gorm.Open(“sqlite3”, “./gorm.db”)\n if err != nil {\n   fmt.Println(err)\n }\n defer db.Close()","markups":[]},{"name":"c45f","type":8,"text":" db.AutoMigrate(&Person{})","markups":[]},{"name":"c7b7","type":8,"text":" r := gin.Default()\n r.GET(“/”, GetProjects)","markups":[{"type":1,"start":21,"end":44}]},{"name":"ee62","type":8,"text":" r.Run(“:8080”)\n}","markups":[]},{"name":"a075","type":8,"text":"func GetProjects(c *gin.Context) {\n var people []Person\n if err := db.Find(&people).Error; err != nil {\n    c.AbortWithStatus(404)\n    fmt.Println(err)\n } else {\n    c.JSON(200, people)\n }","markups":[{"type":1,"start":0,"end":188}]},{"name":"27c7","type":8,"text":"}","markups":[{"type":1,"start":0,"end":1}]},{"name":"36d8","type":1,"text":"Now run it and head to http://localhost:8080 and you should see","markups":[{"type":3,"start":23,"end":44,"href":"http://localhost:8080","title":"","rel":"nofollow","anchorType":0}]},{"name":"bb0e","type":8,"text":"[{“id”: 1,”firstname”: “John”,”lastname”: “Doe”}]","markups":[]},{"name":"dc67","type":1,"text":"Wow just a few lines of code and we’re already getting API responses. Most of that was error handling too!","markups":[]},{"name":"1b53","type":13,"text":"Read One","markups":[]},{"name":"e5fe","type":1,"text":"OK lets update the context to be more REST oriented and add in the ability to look up a single person.","markups":[]},{"name":"503f","type":8,"text":"package main","markups":[]},{"name":"7ee8","type":8,"text":"import (\n “fmt”","markups":[]},{"name":"1240","type":8,"text":" “github.com/gin-gonic/gin”\n “github.com/jinzhu/gorm”\n _ “github.com/jinzhu/gorm/dialects/sqlite”\n)","markups":[]},{"name":"71c6","type":8,"text":"var db *gorm.DB\nvar err error","markups":[]},{"name":"6836","type":8,"text":"type Person struct {\n ID uint `json:”id”`\n FirstName string `json:”firstname”`\n LastName string `json:”lastname”`\n}","markups":[]},{"name":"b3c9","type":8,"text":"func main() {","markups":[]},{"name":"0d1a","type":8,"text":" // NOTE: See we’re using = to assign the global var\n // instead of := which would assign it only in this function\n db, err = gorm.Open(“sqlite3”, “./gorm.db”)\n if err != nil {\n    fmt.Println(err)\n }\n defer db.Close()","markups":[]},{"name":"39bb","type":8,"text":" db.AutoMigrate(&Person{})","markups":[]},{"name":"a17a","type":8,"text":" r := gin.Default()\n r.GET(“/people/”, GetPeople)\n r.GET(“/people/:id”, GetPerson)","markups":[{"type":1,"start":51,"end":82}]},{"name":"2f0a","type":8,"text":" r.Run(“:8080”)\n}","markups":[]},{"name":"7be0","type":8,"text":"func GetPerson(c *gin.Context) {\n id := c.Params.ByName(“id”)\n var person Person\n if err := db.Where(“id = ?”, id).First(&person).Error; err != nil {\n    c.AbortWithStatus(404)\n    fmt.Println(err)\n } else {\n    c.JSON(200, person)\n }\n}","markups":[{"type":1,"start":0,"end":236}]},{"name":"e470","type":8,"text":"func GetPeople(c *gin.Context) {\n var people []Person\n if err := db.Find(&people).Error; err != nil {\n c.AbortWithStatus(404)\n    fmt.Println(err)\n } else {\n    c.JSON(200, people)\n }","markups":[]},{"name":"ed59","type":8,"text":"}","markups":[]},{"name":"a475","type":1,"text":"Now run the server but NOTE that we changed the context so now you’ll head over to http://localhost:8080/people/ to see your list. Once there add the ID to the end of the url and you’ll get the single record back http://localhost:8080/people/1","markups":[{"type":3,"start":83,"end":112,"href":"http://localhost:8080/people/","title":"","rel":"nofollow","anchorType":0},{"type":3,"start":213,"end":243,"href":"http://localhost:8080/people/1","title":"","rel":"nofollow","anchorType":0}]},{"name":"b9ab","type":8,"text":"{“id”: 1,”firstname”: “John”,”lastname”: “Doe”}","markups":[]},{"name":"852d","type":13,"text":"Create","markups":[]},{"name":"3bbe","type":1,"text":"That was hard to see the difference using only one record. It was hard to tell the difference between [{…}] and {…} So let’s add in the Create function and route","markups":[]},{"name":"5b2d","type":8,"text":"package main","markups":[]},{"name":"2445","type":8,"text":"import (\n “fmt”","markups":[]},{"name":"bd13","type":8,"text":" “github.com/gin-gonic/gin”\n “github.com/jinzhu/gorm”\n _ “github.com/jinzhu/gorm/dialects/sqlite”\n)","markups":[]},{"name":"21fe","type":8,"text":"var db *gorm.DB\nvar err error","markups":[]},{"name":"2e9c","type":8,"text":"type Person struct {\n ID uint `json:”id”`\n FirstName string `json:”firstname”`\n LastName string `json:”lastname”`\n}","markups":[]},{"name":"f503","type":8,"text":"func main() {","markups":[]},{"name":"08e6","type":8,"text":" // NOTE: See we’re using = to assign the global var\n // instead of := which would assign it only in this function\n db, err = gorm.Open(“sqlite3”, “./gorm.db”)\n if err != nil {\n fmt.Println(err)\n }\n defer db.Close()","markups":[]},{"name":"ef6e","type":8,"text":"db.AutoMigrate(&Person{})","markups":[]},{"name":"c023","type":8,"text":" r := gin.Default()\n r.GET(“/people/”, GetPeople)\n r.GET(“/people/:id”, GetPerson)\n r.POST(“/people”, CreatePerson)","markups":[{"type":1,"start":84,"end":115}]},{"name":"593b","type":8,"text":"r.Run(“:8080”)\n}","markups":[]},{"name":"ff17","type":8,"text":"func CreatePerson(c *gin.Context) {","markups":[{"type":1,"start":0,"end":35}]},{"name":"c537","type":8,"text":" var person Person\n c.BindJSON(&person)","markups":[{"type":1,"start":0,"end":39}]},{"name":"36fd","type":8,"text":" db.Create(&person)\n c.JSON(200, person)\n}","markups":[{"type":1,"start":0,"end":42}]},{"name":"83bc","type":8,"text":"func GetPerson(c *gin.Context) {\n id := c.Params.ByName(“id”)\n var person Person\n if err := db.Where(“id = ?”, id).First(&person).Error; err != nil {\n    c.AbortWithStatus(404)\n    fmt.Println(err)\n } else {\n    c.JSON(200, person)\n }\n}","markups":[]},{"name":"272f","type":8,"text":"func GetPeople(c *gin.Context) {\n var people []Person\n if err := db.Find(&people).Error; err != nil {\n    c.AbortWithStatus(404)\n    fmt.Println(err)\n } else {\n    c.JSON(200, people)\n }","markups":[]},{"name":"bdd3","type":8,"text":"}","markups":[]},{"name":"56b6","type":1,"text":"Now to test this one we’re going to run a curl command from the command line. We’ll also need the server running so open up another terminal window so you can run both commands. Run your server in the first window with $ go run main.go","markups":[]},{"name":"cf23","type":1,"text":"Once it’s running, in the second window run:","markups":[]},{"name":"f88a","type":8,"text":"$ curl -i -X POST http://localhost:8080/people -d ‘{ “FirstName”: “Elvis”, “LastName”: “Presley”}’","markups":[{"type":3,"start":18,"end":46,"href":"http://localhost:8080/people","title":"","rel":"nofollow","anchorType":0}]},{"name":"689f","type":1,"text":"You should see a successful response","markups":[]},{"name":"d3cc","type":8,"text":"HTTP/1.1 200 OK\nContent-Type: application/json; charset=utf-8\nDate: Sat, 03 Dec 2016 00:14:06 GMT\nContent-Length: 50","markups":[]},{"name":"fa3f","type":8,"text":"{“id”:2,”firstname”:”Elvis”,”lastname”:”Presley”}\n","markups":[]},{"name":"2bbe","type":1,"text":"Now lets list our people in the browser to see that it lists all our entries\nhttp://localhost:8080/people/","markups":[{"type":3,"start":77,"end":106,"href":"http://localhost:8080/people/","title":"","rel":"nofollow","anchorType":0}]},{"name":"5c82","type":8,"text":"[{“id”: 1,”firstname”: “John”,”lastname”: “Doe”},{“id”: 2,”firstname”: “Elvis”,”lastname”: “Presley”}]","markups":[]},{"name":"4816","type":1,"text":"Fantastic, it worked! You think that’s cool watch this.","markups":[]},{"name":"1e85","type":1,"text":"This time only send in part of the Person","markups":[]},{"name":"6023","type":8,"text":"$ curl -i -X POST http://localhost:8080/people -d ‘{ “FirstName”: “Madison”}’","markups":[{"type":3,"start":18,"end":46,"href":"http://localhost:8080/people","title":"","rel":"nofollow","anchorType":0}]},{"name":"0314","type":1,"text":"Refresh your browser and see that it added only the data we sent in","markups":[]},{"name":"620b","type":8,"text":"[{“id”: 1,”firstname”: “John”,”lastname”: “Doe”},{“id”: 2,”firstname”: “Elvis”,”lastname”: “Presley”},{“id”: 3,”firstname”: “Madison”,”lastname”: “”}]","markups":[{"type":1,"start":102,"end":149}]},{"name":"cc46","type":1,"text":"That’s part of Gin, note the c.BindJSON(&person) line in the CreatePerson function. It automatically populates any matching data fields from the request.","markups":[]},{"name":"e593","type":1,"text":"Also you may have missed it but the case in my database and the case i passed in is different. Gin is very forgiving with the case of the fields as well. I passed in FirstName but the DB uses firstname.","markups":[]},{"name":"9f0c","type":1,"text":"So simple!","markups":[]},{"name":"c986","type":13,"text":"Update","markups":[]},{"name":"d41c","type":1,"text":"We can’t leave Madison with no last name though. Time to add our update function","markups":[]},{"name":"4999","type":8,"text":"package main","markups":[]},{"name":"038e","type":8,"text":"import (\n “fmt”","markups":[]},{"name":"1014","type":8,"text":" “github.com/gin-gonic/gin”\n “github.com/jinzhu/gorm”\n _ “github.com/jinzhu/gorm/dialects/sqlite”\n)","markups":[]},{"name":"e504","type":8,"text":"var db *gorm.DB\nvar err error","markups":[]},{"name":"1de1","type":8,"text":"type Person struct {\n ID uint `json:”id”`\n FirstName string `json:”firstname”`\n LastName string `json:”lastname”`\n}","markups":[]},{"name":"70ea","type":8,"text":"func main() {","markups":[]},{"name":"dc1a","type":8,"text":" // NOTE: See we’re using = to assign the global var\n // instead of := which would assign it only in this function\n db, err = gorm.Open(“sqlite3”, “./gorm.db”)\n if err != nil {\n    fmt.Println(err)\n }\n defer db.Close()","markups":[]},{"name":"cddc","type":8,"text":" db.AutoMigrate(&Person{})","markups":[]},{"name":"bf27","type":8,"text":" r := gin.Default()\n r.GET(“/people/”, GetPeople)\n r.GET(“/people/:id”, GetPerson)\n r.POST(“/people”, CreatePerson)\n r.PUT(“/people/:id”, UpdatePerson)","markups":[{"type":1,"start":116,"end":151}]},{"name":"28c2","type":8,"text":" r.Run(“:8080”)\n}","markups":[]},{"name":"bf4d","type":8,"text":"func UpdatePerson(c *gin.Context) {","markups":[{"type":1,"start":0,"end":35}]},{"name":"879e","type":8,"text":" var person Person\n id := c.Params.ByName(“id”)","markups":[{"type":1,"start":0,"end":47}]},{"name":"d82f","type":8,"text":" if err := db.Where(“id = ?”, id).First(&person).Error; err != nil {\n    c.AbortWithStatus(404)\n    fmt.Println(err)\n }\n c.BindJSON(&person)","markups":[{"type":1,"start":0,"end":140}]},{"name":"484a","type":8,"text":" db.Save(&person)\n c.JSON(200, person)","markups":[{"type":1,"start":0,"end":38}]},{"name":"ccb3","type":8,"text":"}","markups":[{"type":1,"start":0,"end":1}]},{"name":"36b9","type":8,"text":"func CreatePerson(c *gin.Context) {","markups":[]},{"name":"375a","type":8,"text":" var person Person\n c.BindJSON(&person)","markups":[]},{"name":"dd90","type":8,"text":" db.Create(&person)\n c.JSON(200, person)\n}","markups":[]},{"name":"b874","type":8,"text":"func GetPerson(c *gin.Context) {\n id := c.Params.ByName(“id”)\n var person Person\n if err := db.Where(“id = ?”, id).First(&person).Error; err != nil {\n    c.AbortWithStatus(404)\n    fmt.Println(err)\n } else {\n    c.JSON(200, person)\n }\n}","markups":[]},{"name":"1383","type":8,"text":"func GetPeople(c *gin.Context) {\n var people []Person\n if err := db.Find(&people).Error; err != nil {\n    c.AbortWithStatus(404)\n    fmt.Println(err)\n } else {\n    c.JSON(200, people)\n }","markups":[]},{"name":"2816","type":8,"text":"}","markups":[]},{"name":"0999","type":1,"text":"To test this one, we’ll use a similar curl command but we’ll call PUT method on a specific user","markups":[]},{"name":"640d","type":8,"text":"$ curl -i -X PUT http://localhost:8080/people/3 -d ‘{ “FirstName”: “Madison”, “LastName”:”Sawyer” }’\nHTTP/1.1 200 OK\nContent-Type: application/json; charset=utf-8\nDate: Sat, 03 Dec 2016 00:25:35 GMT\nContent-Length: 51","markups":[{"type":3,"start":17,"end":47,"href":"http://localhost:8080/people/3","title":"","rel":"nofollow","anchorType":0},{"type":1,"start":2,"end":100}]},{"name":"5147","type":8,"text":"{“id”:3,”firstname”:”Madison”,”lastname”:”Sawyer”}","markups":[]},{"name":"05aa","type":1,"text":"Sure enough if we refresh our browser we see it added sawyer to the last name.","markups":[]},{"name":"bc95","type":8,"text":"[{“id”: 1,”firstname”: “John”,”lastname”: “Doe”},{“id”: 2,”firstname”: “Elvis”,”lastname”: “Presley”},{“id”: 3,”firstname”: “Madison”,”lastname”: “Sawyer”}]","markups":[{"type":1,"start":102,"end":155}]},{"name":"b752","type":1,"text":"Again we can send in partial data for a partial update","markups":[]},{"name":"93a4","type":8,"text":"$ curl -i -X PUT http://localhost:8080/people/3 -d ‘{ “FirstName”: “Tom” }’","markups":[{"type":3,"start":17,"end":47,"href":"http://localhost:8080/people/3","title":"","rel":"nofollow","anchorType":0}]},{"name":"1b00","type":1,"text":"Which shows up as","markups":[]},{"name":"4814","type":8,"text":"[{“id”: 1,”firstname”: “John”,”lastname”: “Doe”},{“id”: 2,”firstname”: “Elvis”,”lastname”: “Presley”},{“id”: 3,”firstname”: “Tom”,”lastname”: “Sawyer”}]","markups":[]},{"name":"8657","type":13,"text":"Delete","markups":[]},{"name":"a9cf","type":1,"text":"Now to round out the solution lets dd in the delete function.","markups":[]},{"name":"88f4","type":8,"text":"package main","markups":[]},{"name":"6083","type":8,"text":"import (\n “fmt”","markups":[]},{"name":"0f3a","type":8,"text":" “github.com/gin-gonic/gin”\n “github.com/jinzhu/gorm”\n _ “github.com/jinzhu/gorm/dialects/sqlite”\n)","markups":[]},{"name":"b718","type":8,"text":"var db *gorm.DB\nvar err error","markups":[]},{"name":"7688","type":8,"text":"type Person struct {\n ID uint `json:”id”`\n FirstName string `json:”firstname”`\n LastName string `json:”lastname”`\n}","markups":[]},{"name":"4a6b","type":8,"text":"func main() {","markups":[]},{"name":"0ff0","type":8,"text":" // NOTE: See we’re using = to assign the global var\n // instead of := which would assign it only in this function\n db, err = gorm.Open(“sqlite3”, “./gorm.db”)\n if err != nil {\n    fmt.Println(err)\n }\n defer db.Close()","markups":[]},{"name":"8e1b","type":8,"text":" db.AutoMigrate(&Person{})","markups":[]},{"name":"db41","type":8,"text":" r := gin.Default()\n r.GET(“/people/”, GetPeople)\n r.GET(“/people/:id”, GetPerson)\n r.POST(“/people”, CreatePerson)\n r.PUT(“/people/:id”, UpdatePerson)\n r.DELETE(“/people/:id”, DeletePerson)","markups":[{"type":1,"start":152,"end":190}]},{"name":"6743","type":8,"text":" r.Run(“:8080”)\n}","markups":[]},{"name":"0ab9","type":8,"text":"func DeletePerson(c *gin.Context) {\n id := c.Params.ByName(“id”)\n var person Person\n d := db.Where(“id = ?”, id).Delete(&person)\n fmt.Println(d)\n c.JSON(200, gin.H{“id #” + id: “deleted”})\n}","markups":[{"type":1,"start":0,"end":190}]},{"name":"d0e2","type":8,"text":"func UpdatePerson(c *gin.Context) {","markups":[]},{"name":"84da","type":8,"text":" var person Person\n id := c.Params.ByName(“id”)","markups":[]},{"name":"c041","type":8,"text":" if err := db.Where(“id = ?”, id).First(&person).Error; err != nil {\n    c.AbortWithStatus(404)\n    fmt.Println(err)\n }\n c.BindJSON(&person)","markups":[]},{"name":"747a","type":8,"text":" db.Save(&person)\n c.JSON(200, person)","markups":[]},{"name":"25a1","type":8,"text":"}","markups":[]},{"name":"f863","type":8,"text":"func CreatePerson(c *gin.Context) {","markups":[]},{"name":"1f00","type":8,"text":" var person Person\n c.BindJSON(&person)","markups":[]},{"name":"5d6d","type":8,"text":" db.Create(&person)\n c.JSON(200, person)\n}","markups":[]},{"name":"ae10","type":8,"text":"func GetPerson(c *gin.Context) {\n id := c.Params.ByName(“id”)\n var person Person\n if err := db.Where(“id = ?”, id).First(&person).Error; err != nil {\n    c.AbortWithStatus(404)\n    fmt.Println(err)\n } else {\n    c.JSON(200, person)\n }\n}","markups":[]},{"name":"7370","type":8,"text":"func GetPeople(c *gin.Context) {\n var people []Person\n if err := db.Find(&people).Error; err != nil {\n    c.AbortWithStatus(404)\n    fmt.Println(err)\n } else {\n    c.JSON(200, people)\n }","markups":[]},{"name":"b05a","type":8,"text":"}","markups":[]},{"name":"3eed","type":1,"text":"And to test this we’ll call it using the Delete method with curl","markups":[]},{"name":"6f8a","type":8,"text":"$ curl -i -X DELETE http://localhost:8080/people/1","markups":[{"type":3,"start":20,"end":50,"href":"http://localhost:8080/people/1","title":"","rel":"nofollow","anchorType":0}]},{"name":"2233","type":8,"text":"HTTP/1.1 200 OK\nContent-Type: application/json; charset=utf-8\nDate: Sat, 03 Dec 2016 00:32:40 GMT\nContent-Length: 20","markups":[]},{"name":"254a","type":8,"text":"{“id #1”:”deleted”}","markups":[]},{"name":"55af","type":1,"text":"Refresh your browser and you’ll see our John Doe has been removed","markups":[]},{"name":"cf01","type":8,"text":"[{“id”: 2,”firstname”: “Elvis”,”lastname”: “Presley”},{“id”: 3,”firstname”: “Tom”,”lastname”: “Sawyer”}]","markups":[]},{"name":"24fe","type":3,"text":"Changing the Model","markups":[]},{"name":"32ed","type":1,"text":"With the basic API defined, now is a great time to start changing the Person object. We can easily modify the database and api by only changing the person struct.","markups":[]},{"name":"de76","type":1,"text":"All i’m going to do is add a city field to the Person Struct. Nothing else. One line.","markups":[]},{"name":"321a","type":8,"text":"type Person struct {\n ID uint `json:”id”`\n FirstName string `json:”firstname”`\n LastName string `json:”lastname”`\n City string `json:”city”`\n}","markups":[{"type":1,"start":115,"end":140}]},{"name":"6272","type":1,"text":"Refreshing our browser and pulling a list you can see all my objects now have city","markups":[]},{"name":"edd5","type":8,"text":"[{“id”: 2,”firstname”: “Elvis”,”lastname”: “Presley”,”city”: “”},{“id”: 3,”firstname”: “Tom”,”lastname”: “Sawyer”,”city”: “”}]","markups":[{"type":1,"start":0,"end":126}]},{"name":"59e3","type":1,"text":"I can create and update the new field with no other changes","markups":[]},{"name":"b9cb","type":8,"text":"$ curl -i -X PUT http://localhost:8080/people/2 -d ‘{ “city”: “Memphis” }’\nHTTP/1.1 200 OK\nContent-Type: application/json; charset=utf-8\nDate: Sat, 03 Dec 2016 00:40:57 GMT\nContent-Length: 67","markups":[{"type":3,"start":17,"end":47,"href":"http://localhost:8080/people/2","title":"","rel":"nofollow","anchorType":0},{"type":1,"start":2,"end":74}]},{"name":"0917","type":8,"text":"{“id”:2,”firstname”:”Elvis”,”lastname”:”Presley”,”city”:”Memphis”}","markups":[{"type":1,"start":49,"end":65}]},{"name":"da18","type":1,"text":"This is all handled by the db.AutoMigrate(&Person{}) line in our main function. In a production environment we’d want to manage the schema a lot closer, but for prototyping this is perfect.","markups":[{"type":1,"start":27,"end":52},{"type":2,"start":27,"end":52}]},{"name":"f93e","type":3,"text":"Using MySql","markups":[]},{"name":"d6f4","type":1,"text":"I hear ya. This is great but what about using MySql instead of SQLite.","markups":[]},{"name":"23f4","type":1,"text":"For that we just need to swap out an import statement and the connection..","markups":[]},{"name":"e58f","type":1,"text":"Import _ “github.com/go-sql-driver/mysql”","markups":[{"type":1,"start":7,"end":41},{"type":2,"start":7,"end":41}]},{"name":"8895","type":1,"text":"Connection","markups":[]},{"name":"0ca0","type":8,"text":"db, _ = gorm.Open(“mysql”, “user:pass@tcp(127.0.0.1:3306)/samples?charset=utf8&parseTime=True&loc=Local”)","markups":[]},{"name":"83d0","type":1,"text":"Full example","markups":[]},{"name":"b620","type":8,"text":"package main","markups":[]},{"name":"b329","type":8,"text":"// only need mysql OR sqlite \n// both are included here for reference\nimport (\n “fmt”","markups":[]},{"name":"f279","type":8,"text":" “github.com/gin-gonic/gin”\n _ “github.com/go-sql-driver/mysql” \n “github.com/jinzhu/gorm”\n _ “github.com/jinzhu/gorm/dialects/sqlite”\n)","markups":[{"type":1,"start":28,"end":63}]},{"name":"08b7","type":8,"text":"var db *gorm.DB\nvar err error","markups":[]},{"name":"d517","type":8,"text":"type Person struct {\n ID uint `json:”id”`\n FirstName string `json:”firstname”`\n LastName string `json:”lastname”`\n City string `json:”city”`\n}","markups":[]},{"name":"5345","type":8,"text":"func main() {","markups":[]},{"name":"cb91","type":8,"text":" // NOTE: See we’re using = to assign the global var\n // instead of := which would assign it only in this function\n //db, err = gorm.Open(“sqlite3”, “./gorm.db”)\n db, _ = gorm.Open(“mysql”, “user:pass@tcp(127.0.0.1:3306)/database?charset=utf8&parseTime=True&loc=Local”)","markups":[{"type":1,"start":163,"end":269}]},{"name":"1329","type":8,"text":" if err != nil {\n    fmt.Println(err)\n }\n defer db.Close()","markups":[]},{"name":"6454","type":8,"text":" db.AutoMigrate(&Person{})","markups":[]},{"name":"4d1b","type":8,"text":" r := gin.Default()\n r.GET(“/people/”, GetPeople)\n r.GET(“/people/:id”, GetPerson)\n r.POST(“/people”, CreatePerson)\n r.PUT(“/people/:id”, UpdatePerson)\n r.DELETE(“/people/:id”, DeletePerson)","markups":[]},{"name":"bf8a","type":8,"text":" r.Run(“:8080”)\n}","markups":[]},{"name":"e657","type":8,"text":"func DeletePerson(c *gin.Context) {\n id := c.Params.ByName(“id”)\n var person Person\n d := db.Where(“id = ?”, id).Delete(&person)\n fmt.Println(d)\n c.JSON(200, gin.H{“id #” + id: “deleted”})\n}","markups":[]},{"name":"42ef","type":8,"text":"func UpdatePerson(c *gin.Context) {","markups":[]},{"name":"c43f","type":8,"text":" var person Person\n id := c.Params.ByName(“id”)","markups":[]},{"name":"7041","type":8,"text":" if err := db.Where(“id = ?”, id).First(&person).Error; err != nil {\n    c.AbortWithStatus(404)\n    fmt.Println(err)\n }\n c.BindJSON(&person)","markups":[]},{"name":"2c78","type":8,"text":" db.Save(&person)\n c.JSON(200, person)","markups":[]},{"name":"fc9a","type":8,"text":"}","markups":[]},{"name":"11dd","type":8,"text":"func CreatePerson(c *gin.Context) {","markups":[]},{"name":"9847","type":8,"text":" var person Person\n c.BindJSON(&person)","markups":[]},{"name":"d66f","type":8,"text":" db.Create(&person)\n c.JSON(200, person)\n}","markups":[]},{"name":"2785","type":8,"text":"func GetPerson(c *gin.Context) {\n id := c.Params.ByName(“id”)\n var person Person\n if err := db.Where(“id = ?”, id).First(&person).Error; err != nil {\n    c.AbortWithStatus(404)\n    fmt.Println(err)\n } else {\n    c.JSON(200, person)\n }\n}","markups":[]},{"name":"f810","type":8,"text":"func GetPeople(c *gin.Context) {\n var people []Person\n if err := db.Find(&people).Error; err != nil {\n    c.AbortWithStatus(404)\n    fmt.Println(err)\n } else {\n    c.JSON(200, people)\n }","markups":[]},{"name":"deae","type":8,"text":"}","markups":[]},{"name":"df85","type":3,"text":"Conclusion","markups":[]},{"name":"e911","type":1,"text":"Go is a flexible language with a robust environment. Its extremely easy to build feature rich applications quickly and with a small amount of code. I hope this was a useful walkthrough. Please feel free to comment with your thoughts and questions","markups":[]}],"sections":[{"name":"57f9","startIndex":0}]},"postDisplay":{"coverless":true}},"virtuals":{"allowNotes":true,"previewImage":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"wordCount":2820,"imageCount":0,"readingTime":10.641509433962264,"subtitle":"Introduction","usersBySocialRecommends":[],"recommends":32,"socialRecommends":[],"isBookmarked":false,"tags":[{"slug":"golang","name":"Golang","postCount":3201,"virtuals":{"isFollowing":false},"metadata":{"followerCount":4313,"postCount":3201,"coverImage":{"id":"1*NDXd5I87VZG0Z74N7dog0g.png","originalWidth":3971,"originalHeight":2749}},"type":"Tag"},{"slug":"programming","name":"Programming","postCount":56037,"virtuals":{"isFollowing":false},"metadata":{"followerCount":48100,"postCount":56037,"coverImage":{"id":"1*xhDvggXvomEZHZuTD1wGrQ.png","originalWidth":700,"originalHeight":480,"isFeatured":true}},"type":"Tag"},{"slug":"api","name":"API","postCount":8049,"virtuals":{"isFollowing":false},"metadata":{"followerCount":2952,"postCount":8049,"coverImage":{"id":"1*iOXaisZyDdgXEPpwHaFrRQ.jpeg","originalWidth":4739,"originalHeight":3159}},"type":"Tag"}],"socialRecommendsCount":0,"responsesCreatedCount":1,"links":{"entries":[{"url":"http://localhost:8080/people","alts":[],"httpStatus":0},{"url":"http://localhost:8080/people/1","alts":[],"httpStatus":0},{"url":"http://localhost:8080/people/2","alts":[],"httpStatus":0},{"url":"http://localhost:8080/people/3","alts":[],"httpStatus":0},{"url":"http://localhost:8080/people/","alts":[],"httpStatus":0},{"url":"http://localhost:8080","alts":[],"httpStatus":0},{"url":"http://cgrant.io/tutorials/go/getting-started-with-go/","alts":[],"httpStatus":200},{"url":"https://github.com/cgrant/gin-gorm-api-example","alts":[],"httpStatus":200},{"url":"https://github.com/gin-gonic/gin","alts":[],"httpStatus":200},{"url":"http://jinzhu.me/gorm/","alts":[],"httpStatus":200}],"version":"0.3","generatedAt":1496331506809},"isLockedPreviewOnly":false,"takeoverId":"","metaDescription":"","totalClapCount":159,"sectionCount":1,"readingList":0},"coverless":true,"slug":"developing-a-simple-crud-api-with-go-gin-and-gorm","translationSourcePostId":"","translationSourceCreatorId":"","isApprovedTranslation":false,"inResponseToPostId":"","inResponseToRemovedAt":0,"isTitleSynthesized":true,"allowResponses":true,"importedUrl":"","importedPublishedAt":0,"visibility":0,"uniqueSlug":"developing-a-simple-crud-api-with-go-gin-and-gorm-df87d98e6ed1","previewContent":{"bodyModel":{"paragraphs":[{"name":"25cb","type":3,"text":"Developing a simple CRUD API with Go, Gin and Gorm","markups":[],"alignment":1},{"name":"ce6b","type":3,"text":"Introduction","markups":[],"alignment":1},{"name":"b4e8","type":1,"text":"Golang is an exciting language but newcomers can be overwhelmed by the new semantics and variety of frameworks available. Getting started with the basics can feel like a challenge.","markups":[],"alignment":1}],"sections":[{"startIndex":0}]},"isFullContent":false},"license":0,"inResponseToMediaResourceId":"","canonicalUrl":"https://medium.com/@cgrant/developing-a-simple-crud-api-with-go-gin-and-gorm-df87d98e6ed1","approvedHomeCollectionId":"","newsletterId":"","webCanonicalUrl":"https://medium.com/@cgrant/developing-a-simple-crud-api-with-go-gin-and-gorm-df87d98e6ed1","mediumUrl":"https://medium.com/@cgrant/developing-a-simple-crud-api-with-go-gin-and-gorm-df87d98e6ed1","migrationId":"","notifyFollowers":true,"notifyTwitter":true,"isSponsored":false,"isRequestToPubDisabled":false,"notifyFacebook":false,"responseHiddenOnParentPostAt":0,"isSeries":false,"isSubscriptionLocked":false,"seriesLastAppendedAt":0,"audioVersionDurationSec":0,"sequenceId":"","isNsfw":false,"isEligibleForRevenue":false,"isBlockedFromHightower":false,"deletedAt":0,"lockedPostSource":0,"hightowerMinimumGuaranteeStartsAt":0,"hightowerMinimumGuaranteeEndsAt":0,"featureLockRequestAcceptedAt":0,"featureLockRequestMinimumGuaranteeAmount":0,"isElevate":false,"mongerRequestType":1,"type":"Post"},"mentionedUsers":[],"collaborators":[],"membershipPlans":[],"collectionUserRelations":[],"mode":null,"references":{"User":{"60e881a91384":{"userId":"60e881a91384","name":"Christopher Grant","username":"cgrant","createdAt":1472240732644,"lastPostCreatedAt":1519078992679,"imageId":"1*rJJEH89K35lacZgQh-UySw.png","backgroundImageId":"","bio":"Sr. Email Reader & Slide Deck Creator","twitterScreenName":"cgrant","socialStats":{"userId":"60e881a91384","usersFollowedCount":55,"usersFollowedByCount":107,"type":"SocialStats"},"social":{"userId":"lo_r1jDa9FImcqS","targetUserId":"60e881a91384","type":"Social"},"facebookAccountId":"10209476189997703","allowNotes":1,"isNsfw":false,"type":"User"}},"Social":{"60e881a91384":{"userId":"lo_r1jDa9FImcqS","targetUserId":"60e881a91384","type":"Social"}},"SocialStats":{"60e881a91384":{"userId":"60e881a91384","usersFollowedCount":55,"usersFollowedByCount":107,"type":"SocialStats"}}}})
// ]]></script></body></html>